2025-02-13 12:19:02.329 +05:00 [INF] User profile is available. Using 'C:\Users\asilb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 12:19:02.494 +05:00 [INF] Now listening on: http://localhost:5004
2025-02-13 12:19:02.502 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 12:19:02.505 +05:00 [INF] Hosting environment: Development
2025-02-13 12:19:02.507 +05:00 [INF] Content root path: D:\E-commerse\ECommerceAPI
2025-02-13 12:19:08.102 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/ - null null
2025-02-13 12:19:08.192 +05:00 [WRN] Failed to determine the https port for redirect.
2025-02-13 12:19:09.753 +05:00 [INF] HTTP GET / responded 404 in 1566.4171 ms
2025-02-13 12:19:09.770 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/ - 404 0 null 1670.3723ms
2025-02-13 12:19:09.790 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5004/, Response status code: 404
2025-02-13 12:20:39.821 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-02-13 12:20:39.969 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 149.1635ms
2025-02-13 12:20:40.003 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.js - null null
2025-02-13 12:20:40.014 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.js - 200 null application/javascript;charset=utf-8 11.1849ms
2025-02-13 12:20:42.022 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-02-13 12:20:42.398 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 375.8916ms
2025-02-13 12:20:50.793 +05:00 [INF] Application is shutting down...
2025-02-13 12:21:02.416 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 12:21:02.458 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 12:21:02.462 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 12:21:13.584 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 12:21:13.646 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 12:21:13.651 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 12:21:15.580 +05:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-13 12:21:15.597 +05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-02-13 12:21:15.631 +05:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-02-13 12:21:15.743 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-02-13 12:21:15.769 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-13 12:21:15.776 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-13 12:21:15.814 +05:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-13 12:21:15.841 +05:00 [INF] Applying migration '20250213072104_InitialCrseate771'.
2025-02-13 12:21:15.887 +05:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Customers];
2025-02-13 12:21:15.948 +05:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'CustomerId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Users] DROP COLUMN [CustomerId];
2025-02-13 12:21:16.343 +05:00 [INF] Executed DbCommand (391ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Users].[Username]', N'PhoneNumber', 'COLUMN';
2025-02-13 12:21:16.382 +05:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Users] ADD [Address] nvarchar(max) NOT NULL DEFAULT N'';
2025-02-13 12:21:16.392 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Users] ADD [Email] nvarchar(max) NOT NULL DEFAULT N'';
2025-02-13 12:21:16.402 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Users] ADD [FirstName] nvarchar(max) NOT NULL DEFAULT N'';
2025-02-13 12:21:16.414 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Users] ADD [LastName] nvarchar(max) NOT NULL DEFAULT N'';
2025-02-13 12:21:16.421 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250213072104_InitialCrseate771', N'9.0.0');
2025-02-13 12:21:16.448 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-02-13 12:21:22.235 +05:00 [INF] User profile is available. Using 'C:\Users\asilb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 12:21:22.375 +05:00 [INF] Now listening on: http://localhost:5004
2025-02-13 12:21:22.378 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 12:21:22.380 +05:00 [INF] Hosting environment: Development
2025-02-13 12:21:22.383 +05:00 [INF] Content root path: D:\E-commerse\ECommerceAPI
2025-02-13 12:21:22.572 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-02-13 12:21:22.660 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 89.3089ms
2025-02-13 12:21:22.702 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.js - null null
2025-02-13 12:21:22.715 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.js - 200 null application/javascript;charset=utf-8 15.1893ms
2025-02-13 12:21:23.238 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-02-13 12:21:23.528 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 290.6101ms
2025-02-13 12:23:18.747 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/User/register - application/json 161
2025-02-13 12:23:18.793 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:23:18.803 +05:00 [WRN] Failed to determine the https port for redirect.
2025-02-13 12:23:18.886 +05:00 [INF] Executing endpoint 'ECommerceAPI.Controllers.UserController.Register (ECommerceAPI)'
2025-02-13 12:23:18.965 +05:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ECommerceAPI.Models.UserDTO) on controller ECommerceAPI.Controllers.UserController (ECommerceAPI).
2025-02-13 12:23:21.273 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 12:23:21.279 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 12:23:21.283 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 12:23:23.051 +05:00 [INF] Executed DbCommand (316ms) [Parameters=[@__userDTO_PhoneNumber_0='?' (Size = 4000), @__userDTO_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[PhoneNumber] = @__userDTO_PhoneNumber_0 AND [u].[Email] = @__userDTO_Email_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-13 12:23:24.751 +05:00 [INF] Executed DbCommand (28ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Address], [Email], [FirstName], [LastName], [PasswordHash], [PhoneNumber], [Role])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-02-13 12:23:24.845 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-13 12:23:24.873 +05:00 [INF] Executed action ECommerceAPI.Controllers.UserController.Register (ECommerceAPI) in 5885.1477ms
2025-02-13 12:23:24.885 +05:00 [INF] Executed endpoint 'ECommerceAPI.Controllers.UserController.Register (ECommerceAPI)'
2025-02-13 12:23:24.906 +05:00 [INF] HTTP POST /api/User/register responded 200 in 6101.2375 ms
2025-02-13 12:23:24.931 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/User/register - 200 null text/plain; charset=utf-8 6184.4407ms
2025-02-13 12:23:43.537 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/User/login - application/json 60
2025-02-13 12:23:43.558 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:23:43.570 +05:00 [INF] Executing endpoint 'ECommerceAPI.Controllers.UserController.Login (ECommerceAPI)'
2025-02-13 12:23:43.593 +05:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UserLoginDTO) on controller ECommerceAPI.Controllers.UserController (ECommerceAPI).
2025-02-13 12:23:43.784 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_PhoneNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Address], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[PhoneNumber] = @__user_PhoneNumber_0
2025-02-13 12:23:44.823 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-13 12:23:44.844 +05:00 [INF] Executed action ECommerceAPI.Controllers.UserController.Login (ECommerceAPI) in 1244.3724ms
2025-02-13 12:23:44.861 +05:00 [INF] Executed endpoint 'ECommerceAPI.Controllers.UserController.Login (ECommerceAPI)'
2025-02-13 12:23:44.865 +05:00 [INF] HTTP POST /api/User/login responded 200 in 1303.7830 ms
2025-02-13 12:23:44.906 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/User/login - 200 null application/json; charset=utf-8 1368.8849ms
2025-02-13 12:24:02.754 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/v1/Products - null null
2025-02-13 12:24:02.787 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.ProductsController.GetProducts (ECommerceAPI)'
2025-02-13 12:24:02.801 +05:00 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[AtirAPI.DTOs.ProductDTO]]] GetProducts() on controller AtirAPI.Controllers.ProductsController (ECommerceAPI).
2025-02-13 12:24:03.227 +05:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock], [c].[Id], [c].[Description], [c].[Name]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
2025-02-13 12:24:03.377 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AtirAPI.DTOs.ProductDTO, ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 12:24:03.416 +05:00 [INF] Executed action AtirAPI.Controllers.ProductsController.GetProducts (ECommerceAPI) in 605.3099ms
2025-02-13 12:24:03.422 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.ProductsController.GetProducts (ECommerceAPI)'
2025-02-13 12:24:03.427 +05:00 [INF] HTTP GET /api/v1/Products responded 200 in 657.9776 ms
2025-02-13 12:24:03.433 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/v1/Products - 200 null application/json; charset=utf-8 678.7738ms
2025-02-13 12:24:32.560 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/v1/Products - null null
2025-02-13 12:24:32.572 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:24:32.575 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.ProductsController.GetProducts (ECommerceAPI)'
2025-02-13 12:24:32.578 +05:00 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[AtirAPI.DTOs.ProductDTO]]] GetProducts() on controller AtirAPI.Controllers.ProductsController (ECommerceAPI).
2025-02-13 12:24:32.601 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock], [c].[Id], [c].[Description], [c].[Name]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
2025-02-13 12:24:32.610 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AtirAPI.DTOs.ProductDTO, ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 12:24:32.616 +05:00 [INF] Executed action AtirAPI.Controllers.ProductsController.GetProducts (ECommerceAPI) in 31.9256ms
2025-02-13 12:24:32.620 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.ProductsController.GetProducts (ECommerceAPI)'
2025-02-13 12:24:32.626 +05:00 [INF] HTTP GET /api/v1/Products responded 200 in 51.4531 ms
2025-02-13 12:24:32.636 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/v1/Products - 200 null application/json; charset=utf-8 75.6612ms
2025-02-13 12:24:32.657 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/images/66f353b9-0302-47ec-a0d8-5413762296eb.png - null null
2025-02-13 12:24:32.658 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/images/0c66ae25-fc53-4af1-9fcb-47f2d4f5c977.jpg - null null
2025-02-13 12:24:32.660 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/images/607dc2b6-416b-44e1-8d77-31edadd916b7.png - null null
2025-02-13 12:24:32.706 +05:00 [INF] The file /images/0c66ae25-fc53-4af1-9fcb-47f2d4f5c977.jpg was not modified
2025-02-13 12:24:32.706 +05:00 [INF] The file /images/607dc2b6-416b-44e1-8d77-31edadd916b7.png was not modified
2025-02-13 12:24:32.706 +05:00 [INF] The file /images/66f353b9-0302-47ec-a0d8-5413762296eb.png was not modified
2025-02-13 12:24:32.712 +05:00 [INF] HTTP GET /images/0c66ae25-fc53-4af1-9fcb-47f2d4f5c977.jpg responded 304 in 39.1156 ms
2025-02-13 12:24:32.715 +05:00 [INF] HTTP GET /images/607dc2b6-416b-44e1-8d77-31edadd916b7.png responded 304 in 32.9622 ms
2025-02-13 12:24:32.719 +05:00 [INF] HTTP GET /images/66f353b9-0302-47ec-a0d8-5413762296eb.png responded 304 in 53.2008 ms
2025-02-13 12:24:32.725 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/images/0c66ae25-fc53-4af1-9fcb-47f2d4f5c977.jpg - 304 null image/jpeg 66.4759ms
2025-02-13 12:24:32.732 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/images/607dc2b6-416b-44e1-8d77-31edadd916b7.png - 304 null image/png 71.3714ms
2025-02-13 12:24:32.735 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/images/66f353b9-0302-47ec-a0d8-5413762296eb.png - 304 null image/png 78.4171ms
2025-02-13 12:24:38.338 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/v1/Products - null null
2025-02-13 12:24:38.338 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/v1/Products/2 - null null
2025-02-13 12:24:38.343 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:24:38.349 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:24:38.351 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.ProductsController.GetProducts (ECommerceAPI)'
2025-02-13 12:24:38.353 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.ProductsController.GetProduct (ECommerceAPI)'
2025-02-13 12:24:38.354 +05:00 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[AtirAPI.DTOs.ProductDTO]]] GetProducts() on controller AtirAPI.Controllers.ProductsController (ECommerceAPI).
2025-02-13 12:24:38.372 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock], [c].[Id], [c].[Description], [c].[Name]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
2025-02-13 12:24:38.373 +05:00 [INF] Route matched with {action = "GetProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[AtirAPI.DTOs.ProductDTO]] GetProduct(Int32) on controller AtirAPI.Controllers.ProductsController (ECommerceAPI).
2025-02-13 12:24:38.382 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AtirAPI.DTOs.ProductDTO, ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 12:24:38.388 +05:00 [INF] Executed action AtirAPI.Controllers.ProductsController.GetProducts (ECommerceAPI) in 26.1241ms
2025-02-13 12:24:38.393 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.ProductsController.GetProducts (ECommerceAPI)'
2025-02-13 12:24:38.396 +05:00 [INF] HTTP GET /api/v1/Products responded 200 in 45.1706 ms
2025-02-13 12:24:38.401 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/v1/Products - 200 null application/json; charset=utf-8 63.0826ms
2025-02-13 12:24:38.419 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock], [c].[Id], [c].[Description], [c].[Name]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-02-13 12:24:38.433 +05:00 [INF] Executing ObjectResult, writing value of type 'AtirAPI.DTOs.ProductDTO'.
2025-02-13 12:24:38.440 +05:00 [INF] Executed action AtirAPI.Controllers.ProductsController.GetProduct (ECommerceAPI) in 56.1056ms
2025-02-13 12:24:38.444 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.ProductsController.GetProduct (ECommerceAPI)'
2025-02-13 12:24:38.446 +05:00 [INF] HTTP GET /api/v1/Products/2 responded 200 in 94.0623 ms
2025-02-13 12:24:38.451 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/v1/Products/2 - 200 null application/json; charset=utf-8 113.6705ms
2025-02-13 12:24:45.791 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/v1/Products - null null
2025-02-13 12:24:45.791 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/v1/Products/1 - null null
2025-02-13 12:24:45.797 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:24:45.805 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:24:45.808 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.ProductsController.GetProducts (ECommerceAPI)'
2025-02-13 12:24:45.810 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.ProductsController.GetProduct (ECommerceAPI)'
2025-02-13 12:24:45.812 +05:00 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[AtirAPI.DTOs.ProductDTO]]] GetProducts() on controller AtirAPI.Controllers.ProductsController (ECommerceAPI).
2025-02-13 12:24:45.814 +05:00 [INF] Route matched with {action = "GetProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[AtirAPI.DTOs.ProductDTO]] GetProduct(Int32) on controller AtirAPI.Controllers.ProductsController (ECommerceAPI).
2025-02-13 12:24:45.825 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock], [c].[Id], [c].[Description], [c].[Name]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
2025-02-13 12:24:45.835 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AtirAPI.DTOs.ProductDTO, ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 12:24:45.839 +05:00 [INF] Executed action AtirAPI.Controllers.ProductsController.GetProducts (ECommerceAPI) in 20.5635ms
2025-02-13 12:24:45.842 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.ProductsController.GetProducts (ECommerceAPI)'
2025-02-13 12:24:45.845 +05:00 [INF] HTTP GET /api/v1/Products responded 200 in 39.1028 ms
2025-02-13 12:24:45.850 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/v1/Products - 200 null application/json; charset=utf-8 58.8179ms
2025-02-13 12:24:45.859 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock], [c].[Id], [c].[Description], [c].[Name]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-02-13 12:24:45.867 +05:00 [INF] Executing ObjectResult, writing value of type 'AtirAPI.DTOs.ProductDTO'.
2025-02-13 12:24:45.872 +05:00 [INF] Executed action AtirAPI.Controllers.ProductsController.GetProduct (ECommerceAPI) in 50.1903ms
2025-02-13 12:24:45.877 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.ProductsController.GetProduct (ECommerceAPI)'
2025-02-13 12:24:45.880 +05:00 [INF] HTTP GET /api/v1/Products/1 responded 200 in 70.8284 ms
2025-02-13 12:24:45.885 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/v1/Products/1 - 200 null application/json; charset=utf-8 93.9619ms
2025-02-13 12:24:55.051 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/v1/Products - null null
2025-02-13 12:24:55.051 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/v1/Products/3 - null null
2025-02-13 12:24:55.064 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:24:55.071 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:24:55.072 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.ProductsController.GetProducts (ECommerceAPI)'
2025-02-13 12:24:55.074 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.ProductsController.GetProduct (ECommerceAPI)'
2025-02-13 12:24:55.077 +05:00 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[AtirAPI.DTOs.ProductDTO]]] GetProducts() on controller AtirAPI.Controllers.ProductsController (ECommerceAPI).
2025-02-13 12:24:55.082 +05:00 [INF] Route matched with {action = "GetProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[AtirAPI.DTOs.ProductDTO]] GetProduct(Int32) on controller AtirAPI.Controllers.ProductsController (ECommerceAPI).
2025-02-13 12:24:55.092 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock], [c].[Id], [c].[Description], [c].[Name]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
2025-02-13 12:24:55.097 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock], [c].[Id], [c].[Description], [c].[Name]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-02-13 12:24:55.099 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AtirAPI.DTOs.ProductDTO, ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 12:24:55.105 +05:00 [INF] Executing ObjectResult, writing value of type 'AtirAPI.DTOs.ProductDTO'.
2025-02-13 12:24:55.108 +05:00 [INF] Executed action AtirAPI.Controllers.ProductsController.GetProducts (ECommerceAPI) in 22.4223ms
2025-02-13 12:24:55.112 +05:00 [INF] Executed action AtirAPI.Controllers.ProductsController.GetProduct (ECommerceAPI) in 21.6186ms
2025-02-13 12:24:55.117 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.ProductsController.GetProducts (ECommerceAPI)'
2025-02-13 12:24:55.121 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.ProductsController.GetProduct (ECommerceAPI)'
2025-02-13 12:24:55.125 +05:00 [INF] HTTP GET /api/v1/Products responded 200 in 52.9595 ms
2025-02-13 12:24:55.129 +05:00 [INF] HTTP GET /api/v1/Products/3 responded 200 in 55.6527 ms
2025-02-13 12:24:55.137 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/v1/Products - 200 null application/json; charset=utf-8 86.239ms
2025-02-13 12:24:55.142 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/v1/Products/3 - 200 null application/json; charset=utf-8 90.9686ms
2025-02-13 12:25:41.668 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/v1/Products - null null
2025-02-13 12:25:41.668 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/v1/Products/3 - null null
2025-02-13 12:25:41.674 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:25:41.680 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:25:41.682 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.ProductsController.GetProducts (ECommerceAPI)'
2025-02-13 12:25:41.684 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.ProductsController.GetProduct (ECommerceAPI)'
2025-02-13 12:25:41.686 +05:00 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[AtirAPI.DTOs.ProductDTO]]] GetProducts() on controller AtirAPI.Controllers.ProductsController (ECommerceAPI).
2025-02-13 12:25:41.690 +05:00 [INF] Route matched with {action = "GetProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[AtirAPI.DTOs.ProductDTO]] GetProduct(Int32) on controller AtirAPI.Controllers.ProductsController (ECommerceAPI).
2025-02-13 12:25:41.703 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock], [c].[Id], [c].[Description], [c].[Name]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
2025-02-13 12:25:41.708 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock], [c].[Id], [c].[Description], [c].[Name]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-02-13 12:25:41.710 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AtirAPI.DTOs.ProductDTO, ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 12:25:41.715 +05:00 [INF] Executing ObjectResult, writing value of type 'AtirAPI.DTOs.ProductDTO'.
2025-02-13 12:25:41.719 +05:00 [INF] Executed action AtirAPI.Controllers.ProductsController.GetProducts (ECommerceAPI) in 22.9774ms
2025-02-13 12:25:41.722 +05:00 [INF] Executed action AtirAPI.Controllers.ProductsController.GetProduct (ECommerceAPI) in 21.2718ms
2025-02-13 12:25:41.725 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.ProductsController.GetProducts (ECommerceAPI)'
2025-02-13 12:25:41.728 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.ProductsController.GetProduct (ECommerceAPI)'
2025-02-13 12:25:41.732 +05:00 [INF] HTTP GET /api/v1/Products responded 200 in 49.5768 ms
2025-02-13 12:25:41.735 +05:00 [INF] HTTP GET /api/v1/Products/3 responded 200 in 51.2623 ms
2025-02-13 12:25:41.741 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/v1/Products - 200 null application/json; charset=utf-8 73.0091ms
2025-02-13 12:25:41.746 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/v1/Products/3 - 200 null application/json; charset=utf-8 77.9853ms
2025-02-13 12:25:46.537 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/v1/Products - null null
2025-02-13 12:25:46.537 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/v1/Products/4 - null null
2025-02-13 12:25:46.544 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:25:46.551 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:25:46.553 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.ProductsController.GetProducts (ECommerceAPI)'
2025-02-13 12:25:46.556 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.ProductsController.GetProduct (ECommerceAPI)'
2025-02-13 12:25:46.559 +05:00 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[AtirAPI.DTOs.ProductDTO]]] GetProducts() on controller AtirAPI.Controllers.ProductsController (ECommerceAPI).
2025-02-13 12:25:46.561 +05:00 [INF] Route matched with {action = "GetProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[AtirAPI.DTOs.ProductDTO]] GetProduct(Int32) on controller AtirAPI.Controllers.ProductsController (ECommerceAPI).
2025-02-13 12:25:46.573 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock], [c].[Id], [c].[Description], [c].[Name]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
2025-02-13 12:25:46.579 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock], [c].[Id], [c].[Description], [c].[Name]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-02-13 12:25:46.580 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AtirAPI.DTOs.ProductDTO, ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 12:25:46.585 +05:00 [INF] Executing ObjectResult, writing value of type 'AtirAPI.DTOs.ProductDTO'.
2025-02-13 12:25:46.589 +05:00 [INF] Executed action AtirAPI.Controllers.ProductsController.GetProducts (ECommerceAPI) in 22.2818ms
2025-02-13 12:25:46.591 +05:00 [INF] Executed action AtirAPI.Controllers.ProductsController.GetProduct (ECommerceAPI) in 18.9757ms
2025-02-13 12:25:46.595 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.ProductsController.GetProducts (ECommerceAPI)'
2025-02-13 12:25:46.599 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.ProductsController.GetProduct (ECommerceAPI)'
2025-02-13 12:25:46.602 +05:00 [INF] HTTP GET /api/v1/Products responded 200 in 49.4647 ms
2025-02-13 12:25:46.606 +05:00 [INF] HTTP GET /api/v1/Products/4 responded 200 in 50.6162 ms
2025-02-13 12:25:46.611 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/v1/Products - 200 null application/json; charset=utf-8 74.1171ms
2025-02-13 12:25:46.617 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/v1/Products/4 - 200 null application/json; charset=utf-8 80.069ms
2025-02-13 12:25:52.572 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/v1/Products/1 - null null
2025-02-13 12:25:52.573 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/v1/Products - null null
2025-02-13 12:25:52.581 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:25:52.587 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:25:52.589 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.ProductsController.GetProduct (ECommerceAPI)'
2025-02-13 12:25:52.591 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.ProductsController.GetProducts (ECommerceAPI)'
2025-02-13 12:25:52.593 +05:00 [INF] Route matched with {action = "GetProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[AtirAPI.DTOs.ProductDTO]] GetProduct(Int32) on controller AtirAPI.Controllers.ProductsController (ECommerceAPI).
2025-02-13 12:25:52.596 +05:00 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[AtirAPI.DTOs.ProductDTO]]] GetProducts() on controller AtirAPI.Controllers.ProductsController (ECommerceAPI).
2025-02-13 12:25:52.609 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock], [c].[Id], [c].[Description], [c].[Name]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-02-13 12:25:52.614 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock], [c].[Id], [c].[Description], [c].[Name]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
2025-02-13 12:25:52.615 +05:00 [INF] Executing ObjectResult, writing value of type 'AtirAPI.DTOs.ProductDTO'.
2025-02-13 12:25:52.621 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AtirAPI.DTOs.ProductDTO, ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 12:25:52.624 +05:00 [INF] Executed action AtirAPI.Controllers.ProductsController.GetProduct (ECommerceAPI) in 23.0143ms
2025-02-13 12:25:52.628 +05:00 [INF] Executed action AtirAPI.Controllers.ProductsController.GetProducts (ECommerceAPI) in 20.2265ms
2025-02-13 12:25:52.631 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.ProductsController.GetProduct (ECommerceAPI)'
2025-02-13 12:25:52.633 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.ProductsController.GetProducts (ECommerceAPI)'
2025-02-13 12:25:52.637 +05:00 [INF] HTTP GET /api/v1/Products/1 responded 200 in 47.7723 ms
2025-02-13 12:25:52.639 +05:00 [INF] HTTP GET /api/v1/Products responded 200 in 48.9372 ms
2025-02-13 12:25:52.645 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/v1/Products/1 - 200 null application/json; charset=utf-8 73.1451ms
2025-02-13 12:25:52.650 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/v1/Products - 200 null application/json; charset=utf-8 77.4487ms
2025-02-13 14:00:49.126 +05:00 [INF] Application is shutting down...
2025-02-13 14:01:46.377 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 14:01:46.490 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 14:01:46.496 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 14:02:00.372 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 14:02:00.410 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 14:02:00.412 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 14:02:02.208 +05:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-13 14:02:02.228 +05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-02-13 14:02:02.269 +05:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-02-13 14:02:02.347 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-02-13 14:02:02.365 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-13 14:02:02.372 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-13 14:02:02.412 +05:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-13 14:02:02.429 +05:00 [INF] Applying migration '20250213090149_InitialCrseate7731'.
2025-02-13 14:02:02.444 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250213090149_InitialCrseate7731', N'9.0.0');
2025-02-13 14:02:02.472 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-02-13 14:02:41.995 +05:00 [INF] User profile is available. Using 'C:\Users\asilb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 14:02:42.251 +05:00 [INF] Now listening on: http://localhost:5004
2025-02-13 14:02:42.255 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 14:02:42.256 +05:00 [INF] Hosting environment: Development
2025-02-13 14:02:42.258 +05:00 [INF] Content root path: D:\E-commerse\ECommerceAPI
2025-02-13 14:02:57.784 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-02-13 14:02:57.921 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 139.2015ms
2025-02-13 14:02:58.009 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.js - null null
2025-02-13 14:02:58.027 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.js - 200 null application/javascript;charset=utf-8 17.7664ms
2025-02-13 14:02:59.116 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-02-13 14:02:59.522 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 405.5311ms
2025-02-13 14:04:50.488 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/Orders - application/json 123
2025-02-13 14:04:50.515 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:04:50.524 +05:00 [WRN] Failed to determine the https port for redirect.
2025-02-13 14:04:52.304 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.OrdersController.PostOrder (ECommerceAPI)'
2025-02-13 14:04:52.331 +05:00 [INF] Route matched with {action = "PostOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[AtirAPI.Models.Order]] PostOrder(AtirAPI.DTOs.OrderCreateDTO) on controller AtirAPI.Controllers.OrdersController (ECommerceAPI).
2025-02-13 14:04:53.387 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 14:04:53.390 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 14:04:53.393 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 14:04:54.252 +05:00 [INF] Executed DbCommand (232ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-02-13 14:04:54.382 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock]
FROM [Products] AS [p]
WHERE [p].[Id] = @__p_0
2025-02-13 14:04:54.626 +05:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p5='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([OrderDate], [PaymentStatus], [TotalAmount], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
UPDATE [Products] SET [Stock] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-02-13 14:04:54.664 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([OrderId], [Price], [ProductId], [Quantity])
OUTPUT INSERTED.[Id]
VALUES (@p6, @p7, @p8, @p9);
2025-02-13 14:04:54.825 +05:00 [INF] Executed DbCommand (30ms) [Parameters=[@__order_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[OrderDate], [o1].[PaymentStatus], [o1].[TotalAmount], [o1].[UserId], [s].[Id], [s].[OrderId], [s].[Price], [s].[ProductId], [s].[Quantity], [s].[Id0], [s].[CategoryId], [s].[Description], [s].[ImageUrl], [s].[Name], [s].[Price0], [s].[Stock]
FROM (
    SELECT TOP(1) [o].[Id], [o].[OrderDate], [o].[PaymentStatus], [o].[TotalAmount], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[Id] = @__order_Id_0
) AS [o1]
LEFT JOIN (
    SELECT [o0].[Id], [o0].[OrderId], [o0].[Price], [o0].[ProductId], [o0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [OrderItems] AS [o0]
    INNER JOIN [Products] AS [p] ON [o0].[ProductId] = [p].[Id]
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[Id], [s].[Id]
2025-02-13 14:04:54.848 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'AtirAPI.Models.Order'.
2025-02-13 14:04:54.913 +05:00 [INF] Executed action AtirAPI.Controllers.OrdersController.PostOrder (ECommerceAPI) in 2573.2177ms
2025-02-13 14:04:54.916 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.OrdersController.PostOrder (ECommerceAPI)'
2025-02-13 14:04:54.921 +05:00 [ERR] So‘rovni qayta ishlashda xatolik yuz berdi.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.User.Id.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Middlewares.ErrorHandlerMiddleware.Invoke(HttpContext context) in D:\E-commerse\ECommerceAPI\Middlewares\ErrorHandlerMiddleware.cs:line 21
2025-02-13 14:04:55.021 +05:00 [ERR] HTTP POST /api/Orders responded 500 in 4497.7788 ms
2025-02-13 14:04:55.036 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/Orders - 500 null application/json 4547.8787ms
2025-02-13 14:07:41.517 +05:00 [INF] Application is shutting down...
2025-02-13 14:07:48.224 +05:00 [INF] User profile is available. Using 'C:\Users\asilb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 14:07:48.393 +05:00 [INF] Now listening on: http://localhost:5004
2025-02-13 14:07:48.396 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 14:07:48.398 +05:00 [INF] Hosting environment: Development
2025-02-13 14:07:48.399 +05:00 [INF] Content root path: D:\E-commerse\ECommerceAPI
2025-02-13 14:07:48.605 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-02-13 14:07:48.724 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 121.186ms
2025-02-13 14:07:48.773 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.js - null null
2025-02-13 14:07:48.809 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.js - 200 null application/javascript;charset=utf-8 36.2902ms
2025-02-13 14:07:50.774 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-02-13 14:07:51.031 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 257.0797ms
2025-02-13 14:08:10.368 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/Orders - application/json 94
2025-02-13 14:08:10.407 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:08:10.416 +05:00 [WRN] Failed to determine the https port for redirect.
2025-02-13 14:08:10.472 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.OrdersController.PostOrder (ECommerceAPI)'
2025-02-13 14:08:10.510 +05:00 [INF] Route matched with {action = "PostOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[AtirAPI.Models.Order]] PostOrder(AtirAPI.DTOs.OrderCreateDTO) on controller AtirAPI.Controllers.OrdersController (ECommerceAPI).
2025-02-13 14:08:12.456 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 14:08:12.462 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 14:08:12.469 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 14:08:14.210 +05:00 [INF] Executed DbCommand (102ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-02-13 14:08:14.473 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock]
FROM [Products] AS [p]
WHERE [p].[Id] = @__p_0
2025-02-13 14:08:15.007 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p5='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([OrderDate], [PaymentStatus], [TotalAmount], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
UPDATE [Products] SET [Stock] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-02-13 14:08:15.077 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([OrderId], [Price], [ProductId], [Quantity])
OUTPUT INSERTED.[Id]
VALUES (@p6, @p7, @p8, @p9);
2025-02-13 14:08:15.389 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__order_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[OrderDate], [o1].[PaymentStatus], [o1].[TotalAmount], [o1].[UserId], [s].[Id], [s].[OrderId], [s].[Price], [s].[ProductId], [s].[Quantity], [s].[Id0], [s].[CategoryId], [s].[Description], [s].[ImageUrl], [s].[Name], [s].[Price0], [s].[Stock]
FROM (
    SELECT TOP(1) [o].[Id], [o].[OrderDate], [o].[PaymentStatus], [o].[TotalAmount], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[Id] = @__order_Id_0
) AS [o1]
LEFT JOIN (
    SELECT [o0].[Id], [o0].[OrderId], [o0].[Price], [o0].[ProductId], [o0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [OrderItems] AS [o0]
    INNER JOIN [Products] AS [p] ON [o0].[ProductId] = [p].[Id]
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[Id], [s].[Id]
2025-02-13 14:08:15.432 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'AtirAPI.Models.Order'.
2025-02-13 14:08:15.543 +05:00 [INF] Executed action AtirAPI.Controllers.OrdersController.PostOrder (ECommerceAPI) in 5011.693ms
2025-02-13 14:08:15.589 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.OrdersController.PostOrder (ECommerceAPI)'
2025-02-13 14:08:15.604 +05:00 [INF] HTTP POST /api/Orders responded 201 in 5183.3408 ms
2025-02-13 14:08:15.632 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/Orders - 201 null application/json; charset=utf-8 5264.3239ms
2025-02-13 14:09:22.463 +05:00 [INF] Application is shutting down...
2025-02-13 14:09:30.032 +05:00 [INF] User profile is available. Using 'C:\Users\asilb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 14:09:30.166 +05:00 [INF] Now listening on: http://localhost:5004
2025-02-13 14:09:30.170 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 14:09:30.171 +05:00 [INF] Hosting environment: Development
2025-02-13 14:09:30.172 +05:00 [INF] Content root path: D:\E-commerse\ECommerceAPI
2025-02-13 14:09:34.733 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-02-13 14:09:34.841 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 107.7048ms
2025-02-13 14:09:34.913 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.js - null null
2025-02-13 14:09:34.921 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.js - 200 null application/javascript;charset=utf-8 8.4471ms
2025-02-13 14:09:36.008 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-02-13 14:09:36.203 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 194.9779ms
2025-02-13 14:09:44.884 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/Orders - application/json 94
2025-02-13 14:09:44.916 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:09:44.923 +05:00 [WRN] Failed to determine the https port for redirect.
2025-02-13 14:09:45.002 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.OrdersController.PostOrder (ECommerceAPI)'
2025-02-13 14:09:45.046 +05:00 [INF] Route matched with {action = "PostOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[AtirAPI.Models.Order]] PostOrder(AtirAPI.DTOs.OrderCreateDTO) on controller AtirAPI.Controllers.OrdersController (ECommerceAPI).
2025-02-13 14:09:47.132 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 14:09:47.140 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 14:09:47.145 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 14:09:48.872 +05:00 [INF] Executed DbCommand (117ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-02-13 14:09:49.159 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock]
FROM [Products] AS [p]
WHERE [p].[Id] = @__p_0
2025-02-13 14:09:49.693 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p5='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([OrderDate], [PaymentStatus], [TotalAmount], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
UPDATE [Products] SET [Stock] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-02-13 14:09:49.769 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([OrderId], [Price], [ProductId], [Quantity])
OUTPUT INSERTED.[Id]
VALUES (@p6, @p7, @p8, @p9);
2025-02-13 14:09:50.048 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__order_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[OrderDate], [o1].[PaymentStatus], [o1].[TotalAmount], [o1].[UserId], [s].[Id], [s].[OrderId], [s].[Price], [s].[ProductId], [s].[Quantity], [s].[Id0], [s].[CategoryId], [s].[Description], [s].[ImageUrl], [s].[Name], [s].[Price0], [s].[Stock]
FROM (
    SELECT TOP(1) [o].[Id], [o].[OrderDate], [o].[PaymentStatus], [o].[TotalAmount], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[Id] = @__order_Id_0
) AS [o1]
LEFT JOIN (
    SELECT [o0].[Id], [o0].[OrderId], [o0].[Price], [o0].[ProductId], [o0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [OrderItems] AS [o0]
    INNER JOIN [Products] AS [p] ON [o0].[ProductId] = [p].[Id]
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[Id], [s].[Id]
2025-02-13 14:09:50.089 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'AtirAPI.Models.Order'.
2025-02-13 14:09:50.213 +05:00 [INF] Executed action AtirAPI.Controllers.OrdersController.PostOrder (ECommerceAPI) in 5154.585ms
2025-02-13 14:09:50.219 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.OrdersController.PostOrder (ECommerceAPI)'
2025-02-13 14:09:50.226 +05:00 [ERR] So‘rovni qayta ishlashda xatolik yuz berdi.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Middlewares.ErrorHandlerMiddleware.Invoke(HttpContext context) in D:\E-commerse\ECommerceAPI\Middlewares\ErrorHandlerMiddleware.cs:line 21
2025-02-13 14:09:50.387 +05:00 [ERR] HTTP POST /api/Orders responded 500 in 5462.8990 ms
2025-02-13 14:09:50.413 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/Orders - 500 null application/json 5528.7181ms
2025-02-13 14:12:40.184 +05:00 [INF] Application is shutting down...
2025-02-13 14:12:46.442 +05:00 [INF] User profile is available. Using 'C:\Users\asilb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 14:12:46.556 +05:00 [INF] Now listening on: http://localhost:5004
2025-02-13 14:12:46.561 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 14:12:46.563 +05:00 [INF] Hosting environment: Development
2025-02-13 14:12:46.564 +05:00 [INF] Content root path: D:\E-commerse\ECommerceAPI
2025-02-13 14:12:51.521 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-02-13 14:12:51.615 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 94.7124ms
2025-02-13 14:12:51.676 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.js - null null
2025-02-13 14:12:51.691 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.js - 200 null application/javascript;charset=utf-8 16.9565ms
2025-02-13 14:12:53.989 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-02-13 14:12:54.153 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 164.2206ms
2025-02-13 14:13:25.675 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/Orders - application/json 94
2025-02-13 14:13:25.715 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:13:25.720 +05:00 [WRN] Failed to determine the https port for redirect.
2025-02-13 14:13:25.756 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.OrdersController.PostOrder (ECommerceAPI)'
2025-02-13 14:13:25.781 +05:00 [INF] Route matched with {action = "PostOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[OrderDTO]] PostOrder(AtirAPI.DTOs.OrderCreateDTO) on controller AtirAPI.Controllers.OrdersController (ECommerceAPI).
2025-02-13 14:13:26.703 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 14:13:26.708 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 14:13:26.725 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 14:13:27.415 +05:00 [INF] Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-02-13 14:13:27.506 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock]
FROM [Products] AS [p]
WHERE [p].[Id] = @__p_0
2025-02-13 14:13:27.700 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p5='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([OrderDate], [PaymentStatus], [TotalAmount], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
UPDATE [Products] SET [Stock] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-02-13 14:13:27.739 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([OrderId], [Price], [ProductId], [Quantity])
OUTPUT INSERTED.[Id]
VALUES (@p6, @p7, @p8, @p9);
2025-02-13 14:13:27.848 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__order_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[OrderDate], [o1].[PaymentStatus], [o1].[TotalAmount], [o1].[UserId], [s].[Id], [s].[OrderId], [s].[Price], [s].[ProductId], [s].[Quantity], [s].[Id0], [s].[CategoryId], [s].[Description], [s].[ImageUrl], [s].[Name], [s].[Price0], [s].[Stock]
FROM (
    SELECT TOP(1) [o].[Id], [o].[OrderDate], [o].[PaymentStatus], [o].[TotalAmount], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[Id] = @__order_Id_0
) AS [o1]
LEFT JOIN (
    SELECT [o0].[Id], [o0].[OrderId], [o0].[Price], [o0].[ProductId], [o0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [OrderItems] AS [o0]
    INNER JOIN [Products] AS [p] ON [o0].[ProductId] = [p].[Id]
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[Id], [s].[Id]
2025-02-13 14:13:27.864 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'AtirAPI.Models.Order'.
2025-02-13 14:13:27.897 +05:00 [INF] Executed action AtirAPI.Controllers.OrdersController.PostOrder (ECommerceAPI) in 2109.7285ms
2025-02-13 14:13:27.900 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.OrdersController.PostOrder (ECommerceAPI)'
2025-02-13 14:13:27.902 +05:00 [ERR] So‘rovni qayta ishlashda xatolik yuz berdi.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Middlewares.ErrorHandlerMiddleware.Invoke(HttpContext context) in D:\E-commerse\ECommerceAPI\Middlewares\ErrorHandlerMiddleware.cs:line 21
2025-02-13 14:13:27.995 +05:00 [ERR] HTTP POST /api/Orders responded 500 in 2274.0010 ms
2025-02-13 14:13:28.005 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/Orders - 500 null application/json 2330.7104ms
2025-02-13 14:14:00.047 +05:00 [INF] Application is shutting down...
2025-02-13 14:14:07.384 +05:00 [INF] User profile is available. Using 'C:\Users\asilb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 14:14:07.526 +05:00 [INF] Now listening on: http://localhost:5004
2025-02-13 14:14:07.530 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 14:14:07.532 +05:00 [INF] Hosting environment: Development
2025-02-13 14:14:07.533 +05:00 [INF] Content root path: D:\E-commerse\ECommerceAPI
2025-02-13 14:14:08.043 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-02-13 14:14:08.193 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 152.5572ms
2025-02-13 14:14:08.280 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.js - null null
2025-02-13 14:14:08.296 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.js - 200 null application/javascript;charset=utf-8 16.8584ms
2025-02-13 14:14:09.417 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-02-13 14:14:09.631 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 214.6195ms
2025-02-13 14:14:18.450 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/Orders - application/json 94
2025-02-13 14:14:18.485 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:14:18.498 +05:00 [WRN] Failed to determine the https port for redirect.
2025-02-13 14:14:18.576 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.OrdersController.PostOrder (ECommerceAPI)'
2025-02-13 14:14:18.624 +05:00 [INF] Route matched with {action = "PostOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[OrderDTO]] PostOrder(AtirAPI.DTOs.OrderCreateDTO) on controller AtirAPI.Controllers.OrdersController (ECommerceAPI).
2025-02-13 14:14:20.637 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 14:14:20.641 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 14:14:20.646 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 14:14:22.350 +05:00 [INF] Executed DbCommand (106ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-02-13 14:14:22.620 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock]
FROM [Products] AS [p]
WHERE [p].[Id] = @__p_0
2025-02-13 14:14:23.161 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p5='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([OrderDate], [PaymentStatus], [TotalAmount], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
UPDATE [Products] SET [Stock] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-02-13 14:14:23.248 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([OrderId], [Price], [ProductId], [Quantity])
OUTPUT INSERTED.[Id]
VALUES (@p6, @p7, @p8, @p9);
2025-02-13 14:14:23.578 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__order_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[OrderDate], [o1].[PaymentStatus], [o1].[TotalAmount], [o1].[UserId], [s].[Id], [s].[OrderId], [s].[Price], [s].[ProductId], [s].[Quantity], [s].[Id0], [s].[CategoryId], [s].[Description], [s].[ImageUrl], [s].[Name], [s].[Price0], [s].[Stock]
FROM (
    SELECT TOP(1) [o].[Id], [o].[OrderDate], [o].[PaymentStatus], [o].[TotalAmount], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[Id] = @__order_Id_0
) AS [o1]
LEFT JOIN (
    SELECT [o0].[Id], [o0].[OrderId], [o0].[Price], [o0].[ProductId], [o0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [OrderItems] AS [o0]
    INNER JOIN [Products] AS [p] ON [o0].[ProductId] = [p].[Id]
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[Id], [s].[Id]
2025-02-13 14:14:23.626 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'AtirAPI.Models.Order'.
2025-02-13 14:14:23.744 +05:00 [INF] Executed action AtirAPI.Controllers.OrdersController.PostOrder (ECommerceAPI) in 5103.6554ms
2025-02-13 14:14:23.748 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.OrdersController.PostOrder (ECommerceAPI)'
2025-02-13 14:14:23.757 +05:00 [ERR] So‘rovni qayta ishlashda xatolik yuz berdi.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Middlewares.ErrorHandlerMiddleware.Invoke(HttpContext context) in D:\E-commerse\ECommerceAPI\Middlewares\ErrorHandlerMiddleware.cs:line 21
2025-02-13 14:14:23.934 +05:00 [ERR] HTTP POST /api/Orders responded 500 in 5436.0553 ms
2025-02-13 14:14:23.957 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/Orders - 500 null application/json 5507.1322ms
2025-02-13 14:24:22.322 +05:00 [INF] Application is shutting down...
2025-02-13 14:24:30.034 +05:00 [INF] User profile is available. Using 'C:\Users\asilb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 14:24:30.169 +05:00 [INF] Now listening on: http://localhost:5004
2025-02-13 14:24:30.173 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 14:24:30.174 +05:00 [INF] Hosting environment: Development
2025-02-13 14:24:30.175 +05:00 [INF] Content root path: D:\E-commerse\ECommerceAPI
2025-02-13 20:22:31.765 +05:00 [INF] Application is shutting down...
2025-02-13 20:23:25.104 +05:00 [INF] User profile is available. Using 'C:\Users\asilb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 20:23:25.245 +05:00 [INF] Now listening on: http://localhost:5004
2025-02-13 20:23:25.249 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 20:23:25.251 +05:00 [INF] Hosting environment: Development
2025-02-13 20:23:25.253 +05:00 [INF] Content root path: D:\E-commerse\ECommerceAPI
2025-02-13 20:23:39.706 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/ - null null
2025-02-13 20:23:39.776 +05:00 [WRN] Failed to determine the https port for redirect.
2025-02-13 20:23:42.730 +05:00 [INF] HTTP GET / responded 404 in 2953.5839 ms
2025-02-13 20:23:42.752 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/ - 404 0 null 3050.3634ms
2025-02-13 20:23:42.773 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5004/, Response status code: 404
2025-02-13 20:23:48.064 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-02-13 20:23:48.194 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 130.8244ms
2025-02-13 20:23:48.232 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.js - null null
2025-02-13 20:23:48.243 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.js - 200 null application/javascript;charset=utf-8 10.5523ms
2025-02-13 20:23:50.864 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-02-13 20:23:51.195 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 331.169ms
2025-02-13 20:24:15.924 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/Orders - application/json 94
2025-02-13 20:24:15.955 +05:00 [INF] CORS policy execution successful.
2025-02-13 20:24:15.967 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.OrdersController.CreateOrder (ECommerceAPI)'
2025-02-13 20:24:16.026 +05:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(AtirAPI.DTOs.OrderCreateDTO) on controller AtirAPI.Controllers.OrdersController (ECommerceAPI).
2025-02-13 20:24:18.773 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 20:24:18.778 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 20:24:18.782 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 20:24:23.499 +05:00 [INF] Executed DbCommand (266ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-02-13 20:24:23.765 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock]
FROM [Products] AS [p]
WHERE [p].[Id] = @__p_0
2025-02-13 20:24:24.282 +05:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([OrderDate], [PaymentStatus], [TotalAmount], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-02-13 20:24:24.359 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p4='?' (DbType = Int32), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([OrderId], [Price], [ProductId], [Quantity])
OUTPUT INSERTED.[Id]
VALUES (@p4, @p5, @p6, @p7);
2025-02-13 20:24:24.435 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'AtirAPI.DTOs.OrderDTO'.
2025-02-13 20:24:24.489 +05:00 [INF] Executed action AtirAPI.Controllers.OrdersController.CreateOrder (ECommerceAPI) in 8448.2682ms
2025-02-13 20:24:24.495 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.OrdersController.CreateOrder (ECommerceAPI)'
2025-02-13 20:24:24.503 +05:00 [ERR] So‘rovni qayta ishlashda xatolik yuz berdi.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtActionResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Middlewares.ErrorHandlerMiddleware.Invoke(HttpContext context) in D:\E-commerse\ECommerceAPI\Middlewares\ErrorHandlerMiddleware.cs:line 21
2025-02-13 20:24:24.597 +05:00 [ERR] HTTP POST /api/Orders responded 500 in 8632.2876 ms
2025-02-13 20:24:24.617 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/Orders - 500 null application/json 8692.8962ms
2025-02-13 20:24:37.250 +05:00 [INF] Application is shutting down...
2025-02-13 20:25:02.592 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 20:25:02.649 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 20:25:02.655 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 20:25:15.850 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 20:25:15.891 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 20:25:15.894 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 20:25:16.361 +05:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-13 20:25:16.376 +05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-02-13 20:25:16.406 +05:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-02-13 20:25:16.475 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-02-13 20:25:16.492 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-13 20:25:16.501 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-13 20:25:16.519 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-13 20:25:16.537 +05:00 [INF] Applying migration '20250213152506_InitialCrseate7751'.
2025-02-13 20:25:16.551 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250213152506_InitialCrseate7751', N'9.0.0');
2025-02-13 20:25:16.580 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-02-13 20:25:49.404 +05:00 [INF] User profile is available. Using 'C:\Users\asilb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 20:25:49.529 +05:00 [INF] Now listening on: http://localhost:5004
2025-02-13 20:25:49.533 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 20:25:49.535 +05:00 [INF] Hosting environment: Development
2025-02-13 20:25:49.538 +05:00 [INF] Content root path: D:\E-commerse\ECommerceAPI
2025-02-13 20:25:55.426 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-02-13 20:25:55.516 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 90.8316ms
2025-02-13 20:25:55.564 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.js - null null
2025-02-13 20:25:55.572 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.js - 200 null application/javascript;charset=utf-8 8.9352ms
2025-02-13 20:25:56.623 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-02-13 20:25:56.886 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 262.692ms
2025-02-13 20:26:20.701 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/Orders - application/json 94
2025-02-13 20:26:20.734 +05:00 [INF] CORS policy execution successful.
2025-02-13 20:26:20.746 +05:00 [WRN] Failed to determine the https port for redirect.
2025-02-13 20:26:20.803 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.OrdersController.CreateOrder (ECommerceAPI)'
2025-02-13 20:26:20.845 +05:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(AtirAPI.DTOs.OrderCreateDTO) on controller AtirAPI.Controllers.OrdersController (ECommerceAPI).
2025-02-13 20:26:22.778 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 20:26:22.784 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 20:26:22.788 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 20:26:24.303 +05:00 [INF] Executed DbCommand (86ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-02-13 20:26:24.522 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock]
FROM [Products] AS [p]
WHERE [p].[Id] = @__p_0
2025-02-13 20:26:25.054 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([OrderDate], [PaymentStatus], [TotalAmount], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-02-13 20:26:25.118 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p4='?' (DbType = Int32), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([OrderId], [Price], [ProductId], [Quantity])
OUTPUT INSERTED.[Id]
VALUES (@p4, @p5, @p6, @p7);
2025-02-13 20:26:25.208 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'AtirAPI.DTOs.OrderDTO'.
2025-02-13 20:26:25.259 +05:00 [INF] Executed action AtirAPI.Controllers.OrdersController.CreateOrder (ECommerceAPI) in 4397.6454ms
2025-02-13 20:26:25.265 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.OrdersController.CreateOrder (ECommerceAPI)'
2025-02-13 20:26:25.273 +05:00 [ERR] So‘rovni qayta ishlashda xatolik yuz berdi.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtActionResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Middlewares.ErrorHandlerMiddleware.Invoke(HttpContext context) in D:\E-commerse\ECommerceAPI\Middlewares\ErrorHandlerMiddleware.cs:line 21
2025-02-13 20:26:25.367 +05:00 [ERR] HTTP POST /api/Orders responded 500 in 4621.2245 ms
2025-02-13 20:26:25.388 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/Orders - 500 null application/json 4686.6627ms
2025-02-13 20:38:27.955 +05:00 [INF] Application is shutting down...
2025-02-13 20:39:02.867 +05:00 [INF] User profile is available. Using 'C:\Users\asilb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 20:39:03.007 +05:00 [INF] Now listening on: http://localhost:5004
2025-02-13 20:39:03.011 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 20:39:03.013 +05:00 [INF] Hosting environment: Development
2025-02-13 20:39:03.015 +05:00 [INF] Content root path: D:\E-commerse\ECommerceAPI
2025-02-13 20:40:24.651 +05:00 [INF] Application is shutting down...
2025-02-13 20:40:32.778 +05:00 [INF] User profile is available. Using 'C:\Users\asilb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 20:40:32.951 +05:00 [INF] Now listening on: http://localhost:5004
2025-02-13 20:40:32.956 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 20:40:32.958 +05:00 [INF] Hosting environment: Development
2025-02-13 20:40:32.961 +05:00 [INF] Content root path: D:\E-commerse\ECommerceAPI
2025-02-13 20:40:38.160 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-02-13 20:40:38.263 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 105.5177ms
2025-02-13 20:40:38.343 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.js - null null
2025-02-13 20:40:38.353 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.js - 200 null application/javascript;charset=utf-8 10.0233ms
2025-02-13 20:40:39.373 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-02-13 20:40:39.513 +05:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "GET api/Orders/{id}" for actions - AtirAPI.Controllers.OrdersController.GetOrder (ECommerceAPI), AtirAPI.Controllers.OrdersController.GetOrderById (ECommerceAPI). Actions require a unique method/path combination for Swagger/OpenAPI 2.0 and 3.0. Use ConflictingActionsResolver as a workaround or provide your own implementation of PathGroupSelector.
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.PrepareGenerateOperation(IGrouping`2 group)
   at System.Linq.Enumerable.IteratorSelectIterator`2.MoveNext()
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationsAsync(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository, Func`3 operationsGenerator)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-02-13 20:40:39.566 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 193.1091ms
2025-02-13 20:41:11.635 +05:00 [INF] Application is shutting down...
2025-02-13 20:41:20.301 +05:00 [INF] User profile is available. Using 'C:\Users\asilb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 20:41:20.453 +05:00 [INF] Now listening on: http://localhost:5004
2025-02-13 20:41:20.457 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 20:41:20.458 +05:00 [INF] Hosting environment: Development
2025-02-13 20:41:20.460 +05:00 [INF] Content root path: D:\E-commerse\ECommerceAPI
2025-02-13 20:41:20.546 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-02-13 20:41:20.656 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 112.8067ms
2025-02-13 20:41:20.698 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.js - null null
2025-02-13 20:41:20.709 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.js - 200 null application/javascript;charset=utf-8 11.0583ms
2025-02-13 20:41:21.465 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-02-13 20:41:21.761 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 296.3579ms
2025-02-13 20:41:45.286 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/Orders - application/json 94
2025-02-13 20:41:45.329 +05:00 [INF] CORS policy execution successful.
2025-02-13 20:41:45.347 +05:00 [WRN] Failed to determine the https port for redirect.
2025-02-13 20:41:45.440 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.OrdersController.CreateOrder (ECommerceAPI)'
2025-02-13 20:41:45.494 +05:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(AtirAPI.DTOs.OrderCreateDto) on controller AtirAPI.Controllers.OrdersController (ECommerceAPI).
2025-02-13 20:41:47.690 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 20:41:47.697 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 20:41:47.704 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 20:41:49.582 +05:00 [INF] Executed DbCommand (111ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock]
FROM [Products] AS [p]
WHERE [p].[Id] = @__p_0
2025-02-13 20:41:50.261 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([OrderDate], [PaymentStatus], [TotalAmount], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-02-13 20:41:50.331 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Int32), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([OrderId], [Price], [ProductId], [Quantity])
OUTPUT INSERTED.[Id]
VALUES (@p4, @p5, @p6, @p7);
2025-02-13 20:41:50.429 +05:00 [INF] Executed action AtirAPI.Controllers.OrdersController.CreateOrder (ECommerceAPI) in 4916.8656ms
2025-02-13 20:41:50.436 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.OrdersController.CreateOrder (ECommerceAPI)'
2025-02-13 20:41:50.448 +05:00 [ERR] So‘rovni qayta ishlashda xatolik yuz berdi.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
Order -> OrderDto
AtirAPI.Models.Order -> AtirAPI.DTOs.OrderDto

Type Map configuration:
Order -> OrderDto
AtirAPI.Models.Order -> AtirAPI.DTOs.OrderDto

Destination Member:
OrderItems

 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
OrderItem -> OrderItemDto
AtirAPI.Models.OrderItem -> AtirAPI.DTOs.OrderItemDto
   at lambda_method236(Closure, OrderItem, OrderItemDto, ResolutionContext)
   at lambda_method235(Closure, Object, OrderDto, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method235(Closure, Object, OrderDto, ResolutionContext)
   at AtirAPI.Controllers.OrdersController.CreateOrder(OrderCreateDto orderDto) in D:\E-commerse\ECommerceAPI\Controller\OrdersController.cs:line 91
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Middlewares.ErrorHandlerMiddleware.Invoke(HttpContext context) in D:\E-commerse\ECommerceAPI\Middlewares\ErrorHandlerMiddleware.cs:line 21
2025-02-13 20:41:50.580 +05:00 [ERR] HTTP POST /api/Orders responded 500 in 5233.8587 ms
2025-02-13 20:41:50.601 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/Orders - 500 null application/json 5314.5215ms
2025-02-13 20:42:38.475 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Orders/1?id=1 - null null
2025-02-13 20:42:38.484 +05:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 

AtirAPI.Controllers.OrdersController.GetOrderById (ECommerceAPI)
AtirAPI.Controllers.OrdersController.GetOrder (ECommerceAPI)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.Select(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.SelectAsync(HttpContext httpContext, CandidateSet candidateSet)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.SelectEndpointWithPoliciesAsync(HttpContext httpContext, IEndpointSelectorPolicy[] policies, CandidateSet candidateSet)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatch|10_1(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task matchTask)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-02-13 20:42:38.513 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Orders/1?id=1 - 500 null text/plain; charset=utf-8 37.6036ms
2025-02-13 21:58:28.085 +05:00 [INF] Application is shutting down...
2025-02-13 21:58:53.786 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 21:58:53.820 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 21:58:53.823 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 21:59:03.220 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 21:59:03.293 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 21:59:03.295 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 21:59:03.937 +05:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-13 21:59:03.959 +05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-02-13 21:59:03.993 +05:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-02-13 21:59:04.108 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-02-13 21:59:04.131 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-13 21:59:04.140 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-13 21:59:04.177 +05:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-13 21:59:04.202 +05:00 [INF] Applying migration '20250213165854_InitialCrseate775w'.
2025-02-13 21:59:04.221 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250213165854_InitialCrseate775w', N'9.0.0');
2025-02-13 21:59:04.249 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-02-13 21:59:17.265 +05:00 [INF] User profile is available. Using 'C:\Users\asilb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 21:59:17.490 +05:00 [INF] Now listening on: http://localhost:5004
2025-02-13 21:59:17.494 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 21:59:17.498 +05:00 [INF] Hosting environment: Development
2025-02-13 21:59:17.507 +05:00 [INF] Content root path: D:\E-commerse\ECommerceAPI
2025-02-13 21:59:25.648 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-02-13 21:59:25.723 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 76.2765ms
2025-02-13 21:59:25.786 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.js - null null
2025-02-13 21:59:25.800 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.js - 200 null application/javascript;charset=utf-8 13.8854ms
2025-02-13 21:59:26.619 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-02-13 21:59:26.754 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 134.3786ms
2025-02-13 21:59:40.279 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/Orders - application/json 94
2025-02-13 21:59:40.302 +05:00 [INF] CORS policy execution successful.
2025-02-13 21:59:40.306 +05:00 [WRN] Failed to determine the https port for redirect.
2025-02-13 21:59:40.336 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.OrdersController.CreateOrder (ECommerceAPI)'
2025-02-13 21:59:40.364 +05:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(AtirAPI.DTOs.OrderDto) on controller AtirAPI.Controllers.OrdersController (ECommerceAPI).
2025-02-13 21:59:41.625 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 21:59:41.628 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 21:59:41.630 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 21:59:42.725 +05:00 [INF] Executed DbCommand (50ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock]
FROM [Products] AS [p]
WHERE [p].[Id] = @__p_0
2025-02-13 21:59:43.187 +05:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p5='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([OrderDate], [PaymentStatus], [TotalAmount], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
UPDATE [Products] SET [Stock] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-02-13 21:59:43.239 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([OrderId], [Price], [ProductId], [Quantity])
OUTPUT INSERTED.[Id]
VALUES (@p6, @p7, @p8, @p9);
2025-02-13 21:59:43.300 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-13 21:59:43.325 +05:00 [INF] Executed action AtirAPI.Controllers.OrdersController.CreateOrder (ECommerceAPI) in 2948.3567ms
2025-02-13 21:59:43.328 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.OrdersController.CreateOrder (ECommerceAPI)'
2025-02-13 21:59:43.336 +05:00 [INF] HTTP POST /api/Orders responded 200 in 3028.9280 ms
2025-02-13 21:59:43.357 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/Orders - 200 null application/json; charset=utf-8 3077.4892ms
2025-02-13 22:00:03.654 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Orders/9 - null null
2025-02-13 22:00:03.658 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.OrdersController.GetOrder (ECommerceAPI)'
2025-02-13 22:00:03.664 +05:00 [INF] Route matched with {action = "GetOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[AtirAPI.Models.Order]] GetOrder(Int32) on controller AtirAPI.Controllers.OrdersController (ECommerceAPI).
2025-02-13 22:00:03.806 +05:00 [INF] Executed DbCommand (36ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[OrderDate], [o1].[PaymentStatus], [o1].[TotalAmount], [o1].[UserId], [s].[Id], [s].[OrderId], [s].[Price], [s].[ProductId], [s].[Quantity], [s].[Id0], [s].[CategoryId], [s].[Description], [s].[ImageUrl], [s].[Name], [s].[Price0], [s].[Stock]
FROM (
    SELECT TOP(1) [o].[Id], [o].[OrderDate], [o].[PaymentStatus], [o].[TotalAmount], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[Id] = @__id_0
) AS [o1]
LEFT JOIN (
    SELECT [o0].[Id], [o0].[OrderId], [o0].[Price], [o0].[ProductId], [o0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [OrderItems] AS [o0]
    INNER JOIN [Products] AS [p] ON [o0].[ProductId] = [p].[Id]
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[Id], [s].[Id]
2025-02-13 22:00:03.820 +05:00 [INF] Executing ObjectResult, writing value of type 'AtirAPI.Models.Order'.
2025-02-13 22:00:03.840 +05:00 [INF] Executed action AtirAPI.Controllers.OrdersController.GetOrder (ECommerceAPI) in 172.5941ms
2025-02-13 22:00:03.841 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.OrdersController.GetOrder (ECommerceAPI)'
2025-02-13 22:00:03.844 +05:00 [ERR] So‘rovni qayta ishlashda xatolik yuz berdi.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Middlewares.ErrorHandlerMiddleware.Invoke(HttpContext context) in D:\E-commerse\ECommerceAPI\Middlewares\ErrorHandlerMiddleware.cs:line 21
2025-02-13 22:00:03.896 +05:00 [ERR] HTTP GET /api/Orders/9 responded 500 in 238.8854 ms
2025-02-13 22:00:03.898 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Orders/9 - 500 null application/json 244.3887ms
2025-02-13 22:00:31.108 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Orders - null null
2025-02-13 22:00:31.116 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.OrdersController.GetOrders (ECommerceAPI)'
2025-02-13 22:00:31.122 +05:00 [INF] Route matched with {action = "GetOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[AtirAPI.Models.Order]]] GetOrders() on controller AtirAPI.Controllers.OrdersController (ECommerceAPI).
2025-02-13 22:00:31.311 +05:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[OrderDate], [o].[PaymentStatus], [o].[TotalAmount], [o].[UserId], [u].[Id], [u].[Address], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[Role], [s].[Id], [s].[OrderId], [s].[Price], [s].[ProductId], [s].[Quantity], [s].[Id0], [s].[CategoryId], [s].[Description], [s].[ImageUrl], [s].[Name], [s].[Price0], [s].[Stock]
FROM [Orders] AS [o]
INNER JOIN [Users] AS [u] ON [o].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [o0].[Id], [o0].[OrderId], [o0].[Price], [o0].[ProductId], [o0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [OrderItems] AS [o0]
    INNER JOIN [Products] AS [p] ON [o0].[ProductId] = [p].[Id]
) AS [s] ON [o].[Id] = [s].[OrderId]
ORDER BY [o].[Id], [u].[Id], [s].[Id]
2025-02-13 22:00:31.339 +05:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[AtirAPI.Models.Order, ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 22:00:31.344 +05:00 [INF] Executed action AtirAPI.Controllers.OrdersController.GetOrders (ECommerceAPI) in 217.4878ms
2025-02-13 22:00:31.346 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.OrdersController.GetOrders (ECommerceAPI)'
2025-02-13 22:00:31.348 +05:00 [ERR] So‘rovni qayta ishlashda xatolik yuz berdi.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.OrderItems.Order.Id.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Middlewares.ErrorHandlerMiddleware.Invoke(HttpContext context) in D:\E-commerse\ECommerceAPI\Middlewares\ErrorHandlerMiddleware.cs:line 21
2025-02-13 22:00:31.392 +05:00 [ERR] HTTP GET /api/Orders responded 500 in 279.5185 ms
2025-02-13 22:00:31.396 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Orders - 500 null application/json 287.5319ms
2025-02-13 22:05:45.407 +05:00 [INF] Application is shutting down...
2025-02-13 22:05:53.953 +05:00 [INF] User profile is available. Using 'C:\Users\asilb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 22:05:54.139 +05:00 [INF] Now listening on: http://localhost:5004
2025-02-13 22:05:54.146 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 22:05:54.148 +05:00 [INF] Hosting environment: Development
2025-02-13 22:05:54.150 +05:00 [INF] Content root path: D:\E-commerse\ECommerceAPI
2025-02-13 22:05:54.243 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-02-13 22:05:54.367 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 126.6647ms
2025-02-13 22:05:54.469 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.js - null null
2025-02-13 22:05:54.477 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.js - 200 null application/javascript;charset=utf-8 8.4731ms
2025-02-13 22:05:55.567 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-02-13 22:05:55.772 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 204.9015ms
2025-02-13 22:06:18.320 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Orders/9?id=9 - null null
2025-02-13 22:06:18.381 +05:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 

AtirAPI.Controllers.OrdersController.GetOrderById (ECommerceAPI)
AtirAPI.Controllers.OrdersController.GetOrder (ECommerceAPI)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.Select(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.SelectAsync(HttpContext httpContext, CandidateSet candidateSet)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.SelectEndpointWithPoliciesAsync(HttpContext httpContext, IEndpointSelectorPolicy[] policies, CandidateSet candidateSet)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatch|10_1(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task matchTask)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-02-13 22:06:18.422 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Orders/9?id=9 - 500 null text/plain; charset=utf-8 102.3404ms
2025-02-13 22:06:26.869 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Orders/9?id=1 - null null
2025-02-13 22:06:26.874 +05:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 

AtirAPI.Controllers.OrdersController.GetOrderById (ECommerceAPI)
AtirAPI.Controllers.OrdersController.GetOrder (ECommerceAPI)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.Select(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.SelectAsync(HttpContext httpContext, CandidateSet candidateSet)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.SelectEndpointWithPoliciesAsync(HttpContext httpContext, IEndpointSelectorPolicy[] policies, CandidateSet candidateSet)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatch|10_1(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task matchTask)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-02-13 22:06:26.886 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Orders/9?id=1 - 500 null text/plain; charset=utf-8 16.9583ms
2025-02-13 22:06:35.716 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Orders/1?id=1 - null null
2025-02-13 22:06:35.720 +05:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 

AtirAPI.Controllers.OrdersController.GetOrderById (ECommerceAPI)
AtirAPI.Controllers.OrdersController.GetOrder (ECommerceAPI)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.Select(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.SelectAsync(HttpContext httpContext, CandidateSet candidateSet)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.SelectEndpointWithPoliciesAsync(HttpContext httpContext, IEndpointSelectorPolicy[] policies, CandidateSet candidateSet)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatch|10_1(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task matchTask)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-02-13 22:06:35.729 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Orders/1?id=1 - 500 null text/plain; charset=utf-8 12.4828ms
2025-02-13 22:07:00.823 +05:00 [INF] Application is shutting down...
2025-02-13 22:07:07.807 +05:00 [INF] User profile is available. Using 'C:\Users\asilb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 22:07:07.994 +05:00 [INF] Now listening on: http://localhost:5004
2025-02-13 22:07:07.997 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 22:07:07.999 +05:00 [INF] Hosting environment: Development
2025-02-13 22:07:08.000 +05:00 [INF] Content root path: D:\E-commerse\ECommerceAPI
2025-02-13 22:07:08.359 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-02-13 22:07:08.494 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 136.8546ms
2025-02-13 22:07:08.546 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.js - null null
2025-02-13 22:07:08.550 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.js - 200 null application/javascript;charset=utf-8 4.7786ms
2025-02-13 22:07:11.092 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-02-13 22:07:11.296 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 204.1507ms
2025-02-13 22:07:25.603 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Orders/9 - null null
2025-02-13 22:07:25.620 +05:00 [WRN] Failed to determine the https port for redirect.
2025-02-13 22:07:25.644 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.OrdersController.GetOrderById (ECommerceAPI)'
2025-02-13 22:07:25.659 +05:00 [INF] Route matched with {action = "GetOrderById", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrderById(Int32) on controller AtirAPI.Controllers.OrdersController (ECommerceAPI).
2025-02-13 22:07:26.166 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 22:07:26.170 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 22:07:26.171 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 22:07:26.648 +05:00 [INF] Executed DbCommand (31ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[OrderDate], [o1].[PaymentStatus], [o1].[TotalAmount], [o1].[UserId], [s].[Id], [s].[OrderId], [s].[Price], [s].[ProductId], [s].[Quantity], [s].[Id0], [s].[CategoryId], [s].[Description], [s].[ImageUrl], [s].[Name], [s].[Price0], [s].[Stock]
FROM (
    SELECT TOP(1) [o].[Id], [o].[OrderDate], [o].[PaymentStatus], [o].[TotalAmount], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[Id] = @__id_0
) AS [o1]
LEFT JOIN (
    SELECT [o0].[Id], [o0].[OrderId], [o0].[Price], [o0].[ProductId], [o0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [OrderItems] AS [o0]
    INNER JOIN [Products] AS [p] ON [o0].[ProductId] = [p].[Id]
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[Id], [s].[Id]
2025-02-13 22:07:26.748 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`6[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType3`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-13 22:07:26.772 +05:00 [INF] Executed action AtirAPI.Controllers.OrdersController.GetOrderById (ECommerceAPI) in 1106.0342ms
2025-02-13 22:07:26.775 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.OrdersController.GetOrderById (ECommerceAPI)'
2025-02-13 22:07:26.781 +05:00 [INF] HTTP GET /api/Orders/9 responded 200 in 1165.8401 ms
2025-02-13 22:07:26.794 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Orders/9 - 200 null application/json; charset=utf-8 1190.3551ms
2025-02-13 22:08:47.145 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/Orders - application/json 94
2025-02-13 22:08:47.182 +05:00 [INF] CORS policy execution successful.
2025-02-13 22:08:47.213 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.OrdersController.CreateOrder (ECommerceAPI)'
2025-02-13 22:08:47.228 +05:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(AtirAPI.DTOs.OrderDto) on controller AtirAPI.Controllers.OrdersController (ECommerceAPI).
2025-02-13 22:08:47.276 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock]
FROM [Products] AS [p]
WHERE [p].[Id] = @__p_0
2025-02-13 22:08:47.385 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p5='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([OrderDate], [PaymentStatus], [TotalAmount], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
UPDATE [Products] SET [Stock] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-02-13 22:08:47.405 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([OrderId], [Price], [ProductId], [Quantity])
OUTPUT INSERTED.[Id]
VALUES (@p6, @p7, @p8, @p9);
2025-02-13 22:08:47.425 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-13 22:08:47.430 +05:00 [INF] Executed action AtirAPI.Controllers.OrdersController.CreateOrder (ECommerceAPI) in 197.7321ms
2025-02-13 22:08:47.431 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.OrdersController.CreateOrder (ECommerceAPI)'
2025-02-13 22:08:47.432 +05:00 [INF] HTTP POST /api/Orders responded 200 in 220.6493 ms
2025-02-13 22:08:47.434 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/Orders - 200 null application/json; charset=utf-8 288.5483ms
2025-02-13 22:08:55.810 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Orders/10 - null null
2025-02-13 22:08:55.816 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.OrdersController.GetOrderById (ECommerceAPI)'
2025-02-13 22:08:55.818 +05:00 [INF] Route matched with {action = "GetOrderById", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrderById(Int32) on controller AtirAPI.Controllers.OrdersController (ECommerceAPI).
2025-02-13 22:08:55.926 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[OrderDate], [o1].[PaymentStatus], [o1].[TotalAmount], [o1].[UserId], [s].[Id], [s].[OrderId], [s].[Price], [s].[ProductId], [s].[Quantity], [s].[Id0], [s].[CategoryId], [s].[Description], [s].[ImageUrl], [s].[Name], [s].[Price0], [s].[Stock]
FROM (
    SELECT TOP(1) [o].[Id], [o].[OrderDate], [o].[PaymentStatus], [o].[TotalAmount], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[Id] = @__id_0
) AS [o1]
LEFT JOIN (
    SELECT [o0].[Id], [o0].[OrderId], [o0].[Price], [o0].[ProductId], [o0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [OrderItems] AS [o0]
    INNER JOIN [Products] AS [p] ON [o0].[ProductId] = [p].[Id]
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[Id], [s].[Id]
2025-02-13 22:08:55.929 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`6[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType3`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-13 22:08:55.930 +05:00 [INF] Executed action AtirAPI.Controllers.OrdersController.GetOrderById (ECommerceAPI) in 105.3898ms
2025-02-13 22:08:55.931 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.OrdersController.GetOrderById (ECommerceAPI)'
2025-02-13 22:08:55.932 +05:00 [INF] HTTP GET /api/Orders/10 responded 200 in 118.1382 ms
2025-02-13 22:08:55.934 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Orders/10 - 200 null application/json; charset=utf-8 123.8209ms
2025-02-13 22:22:58.782 +05:00 [INF] Application is shutting down...
2025-02-13 22:23:22.387 +05:00 [INF] User profile is available. Using 'C:\Users\asilb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 22:23:22.502 +05:00 [INF] Now listening on: http://localhost:5004
2025-02-13 22:23:22.505 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 22:23:22.506 +05:00 [INF] Hosting environment: Development
2025-02-13 22:23:22.507 +05:00 [INF] Content root path: D:\E-commerse\ECommerceAPI
2025-02-13 22:23:47.486 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-02-13 22:23:47.597 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 111.866ms
2025-02-13 22:23:47.668 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.js - null null
2025-02-13 22:23:47.676 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.js - 200 null application/javascript;charset=utf-8 10.1271ms
2025-02-13 22:23:48.981 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-02-13 22:23:49.162 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 180.6248ms
2025-02-13 22:26:14.506 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Orders - null null
2025-02-13 22:26:14.523 +05:00 [WRN] Failed to determine the https port for redirect.
2025-02-13 22:26:14.553 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.OrdersController.GetAllOrders (ECommerceAPI)'
2025-02-13 22:26:14.575 +05:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders() on controller AtirAPI.Controllers.OrdersController (ECommerceAPI).
2025-02-13 22:26:15.117 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 22:26:15.123 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 22:26:15.125 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 22:26:15.660 +05:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[OrderDate], [o].[PaymentStatus], [o].[TotalAmount], [o].[UserId], [u].[Id], [u].[Address], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[Role], [s].[Id], [s].[OrderId], [s].[Price], [s].[ProductId], [s].[Quantity], [s].[Id0], [s].[CategoryId], [s].[Description], [s].[ImageUrl], [s].[Name], [s].[Price0], [s].[Stock]
FROM [Orders] AS [o]
INNER JOIN [Users] AS [u] ON [o].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [o0].[Id], [o0].[OrderId], [o0].[Price], [o0].[ProductId], [o0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [OrderItems] AS [o0]
    INNER JOIN [Products] AS [p] ON [o0].[ProductId] = [p].[Id]
) AS [s] ON [o].[Id] = [s].[OrderId]
ORDER BY [o].[Id], [u].[Id], [s].[Id]
2025-02-13 22:26:15.772 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[AtirAPI.Models.Order, ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType2`6[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType4`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 22:26:15.801 +05:00 [INF] Executed action AtirAPI.Controllers.OrdersController.GetAllOrders (ECommerceAPI) in 1220.7565ms
2025-02-13 22:26:15.806 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.OrdersController.GetAllOrders (ECommerceAPI)'
2025-02-13 22:26:15.812 +05:00 [INF] HTTP GET /api/Orders responded 200 in 1291.3729 ms
2025-02-13 22:26:15.822 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Orders - 200 null application/json; charset=utf-8 1316.5301ms
2025-02-13 22:36:14.841 +05:00 [INF] Application is shutting down...
2025-02-13 22:36:29.934 +05:00 [INF] User profile is available. Using 'C:\Users\asilb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 22:36:30.071 +05:00 [INF] Now listening on: http://localhost:5004
2025-02-13 22:36:30.075 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 22:36:30.076 +05:00 [INF] Hosting environment: Development
2025-02-13 22:36:30.077 +05:00 [INF] Content root path: D:\E-commerse\ECommerceAPI
2025-02-13 22:36:31.743 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-02-13 22:36:31.818 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 76.3837ms
2025-02-13 22:36:31.864 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.js - null null
2025-02-13 22:36:31.869 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.js - 200 null application/javascript;charset=utf-8 6.4653ms
2025-02-13 22:36:32.696 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-02-13 22:36:32.966 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 269.8733ms
2025-02-13 22:36:46.284 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Orders/10 - null null
2025-02-13 22:36:46.306 +05:00 [WRN] Failed to determine the https port for redirect.
2025-02-13 22:36:46.334 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.OrdersController.GetOrderById (ECommerceAPI)'
2025-02-13 22:36:46.358 +05:00 [INF] Route matched with {action = "GetOrderById", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrderById(Int32) on controller AtirAPI.Controllers.OrdersController (ECommerceAPI).
2025-02-13 22:36:47.409 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 22:36:47.413 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 22:36:47.415 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 22:36:48.589 +05:00 [INF] Executed DbCommand (77ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[OrderDate], [s].[PaymentStatus], [s].[TotalAmount], [s].[UserId], [s].[Id0], [s].[Address], [s].[Email], [s].[FirstName], [s].[LastName], [s].[PasswordHash], [s].[PhoneNumber], [s].[Role], [s0].[Id], [s0].[OrderId], [s0].[Price], [s0].[ProductId], [s0].[Quantity], [s0].[Id0], [s0].[CategoryId], [s0].[Description], [s0].[ImageUrl], [s0].[Name], [s0].[Price0], [s0].[Stock]
FROM (
    SELECT TOP(1) [o].[Id], [o].[OrderDate], [o].[PaymentStatus], [o].[TotalAmount], [o].[UserId], [u].[Id] AS [Id0], [u].[Address], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[Role]
    FROM [Orders] AS [o]
    INNER JOIN [Users] AS [u] ON [o].[UserId] = [u].[Id]
    WHERE [o].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [o0].[Id], [o0].[OrderId], [o0].[Price], [o0].[ProductId], [o0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [OrderItems] AS [o0]
    INNER JOIN [Products] AS [p] ON [o0].[ProductId] = [p].[Id]
) AS [s0] ON [s].[Id] = [s0].[OrderId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id]
2025-02-13 22:36:48.858 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`6[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType4`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-13 22:36:48.913 +05:00 [INF] Executed action AtirAPI.Controllers.OrdersController.GetOrderById (ECommerceAPI) in 2547.3638ms
2025-02-13 22:36:48.915 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.OrdersController.GetOrderById (ECommerceAPI)'
2025-02-13 22:36:48.920 +05:00 [INF] HTTP GET /api/Orders/10 responded 200 in 2623.0462 ms
2025-02-13 22:36:48.932 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Orders/10 - 200 null application/json; charset=utf-8 2648.2677ms
2025-02-13 22:37:50.350 +05:00 [INF] Application is shutting down...
2025-02-13 22:41:55.336 +05:00 [INF] User profile is available. Using 'C:\Users\asilb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 22:41:55.434 +05:00 [INF] Now listening on: http://localhost:5004
2025-02-13 22:41:55.436 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 22:41:55.437 +05:00 [INF] Hosting environment: Development
2025-02-13 22:41:55.438 +05:00 [INF] Content root path: D:\E-commerse\ECommerceAPI
2025-02-13 22:41:57.677 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-02-13 22:41:57.756 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 80.1641ms
2025-02-13 22:41:57.822 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.js - null null
2025-02-13 22:41:57.834 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.js - 200 null application/javascript;charset=utf-8 12.4407ms
2025-02-13 22:41:59.284 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-02-13 22:41:59.417 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 132.377ms
2025-02-13 22:42:17.098 +05:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5004/api/Orders/10 - null null
2025-02-13 22:42:17.166 +05:00 [INF] CORS policy execution successful.
2025-02-13 22:42:17.171 +05:00 [WRN] Failed to determine the https port for redirect.
2025-02-13 22:42:17.202 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.OrdersController.DeleteOrder (ECommerceAPI)'
2025-02-13 22:42:17.220 +05:00 [INF] Route matched with {action = "DeleteOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteOrder(Int32) on controller AtirAPI.Controllers.OrdersController (ECommerceAPI).
2025-02-13 22:42:18.357 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 22:42:18.361 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 22:42:18.364 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 22:42:19.485 +05:00 [INF] Executed DbCommand (42ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[OrderDate], [o1].[PaymentStatus], [o1].[TotalAmount], [o1].[UserId], [o0].[Id], [o0].[OrderId], [o0].[Price], [o0].[ProductId], [o0].[Quantity]
FROM (
    SELECT TOP(1) [o].[Id], [o].[OrderDate], [o].[PaymentStatus], [o].[TotalAmount], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[Id] = @__id_0
) AS [o1]
LEFT JOIN [OrderItems] AS [o0] ON [o1].[Id] = [o0].[OrderId]
ORDER BY [o1].[Id]
2025-02-13 22:42:19.657 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock]
FROM [Products] AS [p]
WHERE [p].[Id] = @__p_0
2025-02-13 22:42:19.930 +05:00 [INF] Executed DbCommand (38ms) [Parameters=[@p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p1='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [OrderItems]
OUTPUT 1
WHERE [Id] = @p0;
UPDATE [Products] SET [Stock] = @p1
OUTPUT 1
WHERE [Id] = @p2;
DELETE FROM [Orders]
OUTPUT 1
WHERE [Id] = @p3;
2025-02-13 22:42:19.993 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 22:42:20.004 +05:00 [INF] Executed action AtirAPI.Controllers.OrdersController.DeleteOrder (ECommerceAPI) in 2773.8665ms
2025-02-13 22:42:20.008 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.OrdersController.DeleteOrder (ECommerceAPI)'
2025-02-13 22:42:20.014 +05:00 [INF] HTTP DELETE /api/Orders/10 responded 204 in 2842.6647 ms
2025-02-13 22:42:20.032 +05:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5004/api/Orders/10 - 204 null null 2934.6073ms
2025-02-13 22:42:30.293 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Orders/10 - null null
2025-02-13 22:42:30.301 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.OrdersController.GetOrderById (ECommerceAPI)'
2025-02-13 22:42:30.349 +05:00 [INF] Route matched with {action = "GetOrderById", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrderById(Int32) on controller AtirAPI.Controllers.OrdersController (ECommerceAPI).
2025-02-13 22:42:30.410 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[OrderDate], [s].[PaymentStatus], [s].[TotalAmount], [s].[UserId], [s].[Id0], [s].[Address], [s].[Email], [s].[FirstName], [s].[LastName], [s].[PasswordHash], [s].[PhoneNumber], [s].[Role], [s0].[Id], [s0].[OrderId], [s0].[Price], [s0].[ProductId], [s0].[Quantity], [s0].[Id0], [s0].[CategoryId], [s0].[Description], [s0].[ImageUrl], [s0].[Name], [s0].[Price0], [s0].[Stock]
FROM (
    SELECT TOP(1) [o].[Id], [o].[OrderDate], [o].[PaymentStatus], [o].[TotalAmount], [o].[UserId], [u].[Id] AS [Id0], [u].[Address], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[Role]
    FROM [Orders] AS [o]
    INNER JOIN [Users] AS [u] ON [o].[UserId] = [u].[Id]
    WHERE [o].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [o0].[Id], [o0].[OrderId], [o0].[Price], [o0].[ProductId], [o0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [OrderItems] AS [o0]
    INNER JOIN [Products] AS [p] ON [o0].[ProductId] = [p].[Id]
) AS [s0] ON [s].[Id] = [s0].[OrderId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id]
2025-02-13 22:42:30.419 +05:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-13 22:42:30.438 +05:00 [INF] Executed action AtirAPI.Controllers.OrdersController.GetOrderById (ECommerceAPI) in 86.1055ms
2025-02-13 22:42:30.441 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.OrdersController.GetOrderById (ECommerceAPI)'
2025-02-13 22:42:30.444 +05:00 [INF] HTTP GET /api/Orders/10 responded 404 in 144.4810 ms
2025-02-13 22:42:30.451 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Orders/10 - 404 null application/json; charset=utf-8 157.9785ms
2025-02-13 22:42:42.950 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Orders/9 - null null
2025-02-13 22:42:42.959 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.OrdersController.GetOrderById (ECommerceAPI)'
2025-02-13 22:42:42.961 +05:00 [INF] Route matched with {action = "GetOrderById", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrderById(Int32) on controller AtirAPI.Controllers.OrdersController (ECommerceAPI).
2025-02-13 22:42:43.033 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[OrderDate], [s].[PaymentStatus], [s].[TotalAmount], [s].[UserId], [s].[Id0], [s].[Address], [s].[Email], [s].[FirstName], [s].[LastName], [s].[PasswordHash], [s].[PhoneNumber], [s].[Role], [s0].[Id], [s0].[OrderId], [s0].[Price], [s0].[ProductId], [s0].[Quantity], [s0].[Id0], [s0].[CategoryId], [s0].[Description], [s0].[ImageUrl], [s0].[Name], [s0].[Price0], [s0].[Stock]
FROM (
    SELECT TOP(1) [o].[Id], [o].[OrderDate], [o].[PaymentStatus], [o].[TotalAmount], [o].[UserId], [u].[Id] AS [Id0], [u].[Address], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[Role]
    FROM [Orders] AS [o]
    INNER JOIN [Users] AS [u] ON [o].[UserId] = [u].[Id]
    WHERE [o].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [o0].[Id], [o0].[OrderId], [o0].[Price], [o0].[ProductId], [o0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [OrderItems] AS [o0]
    INNER JOIN [Products] AS [p] ON [o0].[ProductId] = [p].[Id]
) AS [s0] ON [s].[Id] = [s0].[OrderId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id]
2025-02-13 22:42:43.053 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`6[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType4`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-13 22:42:43.068 +05:00 [INF] Executed action AtirAPI.Controllers.OrdersController.GetOrderById (ECommerceAPI) in 103.956ms
2025-02-13 22:42:43.069 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.OrdersController.GetOrderById (ECommerceAPI)'
2025-02-13 22:42:43.071 +05:00 [INF] HTTP GET /api/Orders/9 responded 200 in 113.9484 ms
2025-02-13 22:42:43.073 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Orders/9 - 200 null application/json; charset=utf-8 122.8395ms
2025-02-13 22:44:47.204 +05:00 [INF] Application is shutting down...
2025-02-13 22:44:52.036 +05:00 [INF] User profile is available. Using 'C:\Users\asilb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 22:44:52.175 +05:00 [INF] Now listening on: http://localhost:5004
2025-02-13 22:44:52.178 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 22:44:52.179 +05:00 [INF] Hosting environment: Development
2025-02-13 22:44:52.180 +05:00 [INF] Content root path: D:\E-commerse\ECommerceAPI
2025-02-13 22:45:43.936 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-02-13 22:45:44.010 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 75.1596ms
2025-02-13 22:45:44.055 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.js - null null
2025-02-13 22:45:44.060 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.js - 200 null application/javascript;charset=utf-8 6.3796ms
2025-02-13 22:45:44.806 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-02-13 22:45:44.958 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 151.2825ms
2025-02-13 22:46:19.336 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Orders/9 - null null
2025-02-13 22:46:19.390 +05:00 [WRN] Failed to determine the https port for redirect.
2025-02-13 22:46:19.426 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.OrdersController.GetOrderById (ECommerceAPI)'
2025-02-13 22:46:19.440 +05:00 [INF] Route matched with {action = "GetOrderById", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrderById(Int32) on controller AtirAPI.Controllers.OrdersController (ECommerceAPI).
2025-02-13 22:46:19.950 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 22:46:19.953 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 22:46:19.955 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 22:46:20.498 +05:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[OrderDate], [s].[PaymentStatus], [s].[TotalAmount], [s].[UserId], [s].[Id0], [s].[Address], [s].[Email], [s].[FirstName], [s].[LastName], [s].[PasswordHash], [s].[PhoneNumber], [s].[Role], [s0].[Id], [s0].[OrderId], [s0].[Price], [s0].[ProductId], [s0].[Quantity], [s0].[Id0], [s0].[CategoryId], [s0].[Description], [s0].[ImageUrl], [s0].[Name], [s0].[Price0], [s0].[Stock]
FROM (
    SELECT TOP(1) [o].[Id], [o].[OrderDate], [o].[PaymentStatus], [o].[TotalAmount], [o].[UserId], [u].[Id] AS [Id0], [u].[Address], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[Role]
    FROM [Orders] AS [o]
    INNER JOIN [Users] AS [u] ON [o].[UserId] = [u].[Id]
    WHERE [o].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [o0].[Id], [o0].[OrderId], [o0].[Price], [o0].[ProductId], [o0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [OrderItems] AS [o0]
    INNER JOIN [Products] AS [p] ON [o0].[ProductId] = [p].[Id]
) AS [s0] ON [s].[Id] = [s0].[OrderId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id]
2025-02-13 22:46:20.605 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`6[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType4`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-13 22:46:20.628 +05:00 [INF] Executed action AtirAPI.Controllers.OrdersController.GetOrderById (ECommerceAPI) in 1179.9452ms
2025-02-13 22:46:20.630 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.OrdersController.GetOrderById (ECommerceAPI)'
2025-02-13 22:46:20.634 +05:00 [INF] HTTP GET /api/Orders/9 responded 200 in 1246.1522 ms
2025-02-13 22:46:20.643 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Orders/9 - 200 null application/json; charset=utf-8 1306.4844ms
2025-02-13 23:18:10.944 +05:00 [INF] Application is shutting down...
2025-02-13 23:20:10.417 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:20:10.470 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:20:10.471 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:20:10.473 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:20:23.675 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:20:23.721 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:20:23.723 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:20:23.725 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:20:24.155 +05:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-13 23:20:24.168 +05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-02-13 23:20:24.189 +05:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-02-13 23:20:24.260 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-02-13 23:20:24.277 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-13 23:20:24.284 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-13 23:20:24.311 +05:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-13 23:20:24.325 +05:00 [INF] Applying migration '20250213182011_InitialCrseate775ew'.
2025-02-13 23:20:24.380 +05:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Carts] (
    [Id] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Carts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-02-13 23:20:24.388 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [CartItems] (
    [Id] int NOT NULL IDENTITY,
    [CartId] int NOT NULL,
    [ProductId] int NOT NULL,
    [Quantity] int NOT NULL,
    [Price] decimal(18,2) NOT NULL,
    CONSTRAINT [PK_CartItems] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_CartItems_Carts_CartId] FOREIGN KEY ([CartId]) REFERENCES [Carts] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CartItems_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE
);
2025-02-13 23:20:24.399 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_CartItems_CartId] ON [CartItems] ([CartId]);
2025-02-13 23:20:24.404 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_CartItems_ProductId] ON [CartItems] ([ProductId]);
2025-02-13 23:20:24.409 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Carts_UserId] ON [Carts] ([UserId]);
2025-02-13 23:20:24.414 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250213182011_InitialCrseate775ew', N'9.0.0');
2025-02-13 23:20:24.441 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-02-13 23:20:31.185 +05:00 [INF] User profile is available. Using 'C:\Users\asilb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 23:20:31.853 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:20:31.857 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:20:31.859 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:20:31.861 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:20:32.338 +05:00 [INF] Now listening on: http://localhost:5004
2025-02-13 23:20:32.341 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 23:20:32.343 +05:00 [INF] Hosting environment: Development
2025-02-13 23:20:32.345 +05:00 [INF] Content root path: D:\E-commerse\ECommerceAPI
2025-02-13 23:20:32.480 +05:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[OrderDate], [o].[PaymentStatus], [o].[TotalAmount], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[OrderDate] < DATEADD(day, CAST(-2.0E0 AS int), GETUTCDATE()) AND [o].[PaymentStatus] <> N'Paid'
2025-02-13 23:20:57.939 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-02-13 23:20:58.003 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 65.4411ms
2025-02-13 23:20:58.042 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.js - null null
2025-02-13 23:20:58.053 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.js - 200 null application/javascript;charset=utf-8 11.2276ms
2025-02-13 23:20:58.738 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-02-13 23:20:58.854 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 115.6201ms
2025-02-13 23:21:24.416 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/Cart/add - application/json 52
2025-02-13 23:21:24.448 +05:00 [INF] CORS policy execution successful.
2025-02-13 23:21:24.457 +05:00 [WRN] Failed to determine the https port for redirect.
2025-02-13 23:21:24.482 +05:00 [INF] Executing endpoint 'CartController.AddToCart (ECommerceAPI)'
2025-02-13 23:21:24.496 +05:00 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(AddToCartDto) on controller CartController (ECommerceAPI).
2025-02-13 23:21:24.585 +05:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock]
FROM [Products] AS [p]
WHERE [p].[Id] = @__p_0
2025-02-13 23:21:24.684 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[UserId], [c0].[Id], [c0].[CartId], [c0].[Price], [c0].[ProductId], [c0].[Quantity]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[UserId] = @__request_UserId_0
) AS [c1]
LEFT JOIN [CartItems] AS [c0] ON [c1].[Id] = [c0].[CartId]
ORDER BY [c1].[Id]
2025-02-13 23:21:24.793 +05:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Carts] ([UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-02-13 23:21:24.857 +05:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CartItems] ([CartId], [Price], [ProductId], [Quantity])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-02-13 23:21:24.868 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-13 23:21:24.877 +05:00 [INF] Executed action CartController.AddToCart (ECommerceAPI) in 375.9906ms
2025-02-13 23:21:24.880 +05:00 [INF] Executed endpoint 'CartController.AddToCart (ECommerceAPI)'
2025-02-13 23:21:24.884 +05:00 [INF] HTTP POST /api/Cart/add responded 200 in 429.5010 ms
2025-02-13 23:21:24.889 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/Cart/add - 200 null text/plain; charset=utf-8 473.3814ms
2025-02-13 23:21:41.058 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/Cart/add - application/json 52
2025-02-13 23:21:41.063 +05:00 [INF] CORS policy execution successful.
2025-02-13 23:21:41.067 +05:00 [INF] Executing endpoint 'CartController.AddToCart (ECommerceAPI)'
2025-02-13 23:21:41.069 +05:00 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(AddToCartDto) on controller CartController (ECommerceAPI).
2025-02-13 23:21:41.149 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock]
FROM [Products] AS [p]
WHERE [p].[Id] = @__p_0
2025-02-13 23:21:41.218 +05:00 [INF] Executed DbCommand (66ms) [Parameters=[@__request_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[UserId], [c0].[Id], [c0].[CartId], [c0].[Price], [c0].[ProductId], [c0].[Quantity]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[UserId] = @__request_UserId_0
) AS [c1]
LEFT JOIN [CartItems] AS [c0] ON [c1].[Id] = [c0].[CartId]
ORDER BY [c1].[Id]
2025-02-13 23:21:41.247 +05:00 [INF] Executed DbCommand (16ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [Price] = @p0, [Quantity] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-02-13 23:21:41.250 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-13 23:21:41.251 +05:00 [INF] Executed action CartController.AddToCart (ECommerceAPI) in 174.0108ms
2025-02-13 23:21:41.252 +05:00 [INF] Executed endpoint 'CartController.AddToCart (ECommerceAPI)'
2025-02-13 23:21:41.253 +05:00 [INF] HTTP POST /api/Cart/add responded 200 in 188.4503 ms
2025-02-13 23:21:41.255 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/Cart/add - 200 null text/plain; charset=utf-8 196.8776ms
2025-02-13 23:21:49.990 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Cart/1 - null null
2025-02-13 23:21:49.997 +05:00 [INF] Executing endpoint 'CartController.GetCart (ECommerceAPI)'
2025-02-13 23:21:50.061 +05:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart(Int32) on controller CartController (ECommerceAPI).
2025-02-13 23:21:50.132 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[UserId], [s].[Id], [s].[CartId], [s].[Price], [s].[ProductId], [s].[Quantity], [s].[Id0], [s].[CategoryId], [s].[Description], [s].[ImageUrl], [s].[Name], [s].[Price0], [s].[Stock]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[UserId] = @__userId_0
) AS [c1]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[CartId], [c0].[Price], [c0].[ProductId], [c0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [CartItems] AS [c0]
    INNER JOIN [Products] AS [p] ON [c0].[ProductId] = [p].[Id]
) AS [s] ON [c1].[Id] = [s].[CartId]
ORDER BY [c1].[Id], [s].[Id]
2025-02-13 23:21:50.136 +05:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-13 23:21:50.139 +05:00 [INF] Executed action CartController.GetCart (ECommerceAPI) in 53.4996ms
2025-02-13 23:21:50.142 +05:00 [INF] Executed endpoint 'CartController.GetCart (ECommerceAPI)'
2025-02-13 23:21:50.143 +05:00 [INF] HTTP GET /api/Cart/1 responded 404 in 148.8863 ms
2025-02-13 23:21:50.145 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Cart/1 - 404 null text/plain; charset=utf-8 155.6585ms
2025-02-13 23:22:03.401 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Cart/2 - null null
2025-02-13 23:22:03.404 +05:00 [INF] Executing endpoint 'CartController.GetCart (ECommerceAPI)'
2025-02-13 23:22:03.405 +05:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart(Int32) on controller CartController (ECommerceAPI).
2025-02-13 23:22:03.411 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[UserId], [s].[Id], [s].[CartId], [s].[Price], [s].[ProductId], [s].[Quantity], [s].[Id0], [s].[CategoryId], [s].[Description], [s].[ImageUrl], [s].[Name], [s].[Price0], [s].[Stock]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[UserId] = @__userId_0
) AS [c1]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[CartId], [c0].[Price], [c0].[ProductId], [c0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [CartItems] AS [c0]
    INNER JOIN [Products] AS [p] ON [c0].[ProductId] = [p].[Id]
) AS [s] ON [c1].[Id] = [s].[CartId]
ORDER BY [c1].[Id], [s].[Id]
2025-02-13 23:22:03.431 +05:00 [INF] Executing OkObjectResult, writing value of type 'Cart'.
2025-02-13 23:22:03.452 +05:00 [INF] Executed action CartController.GetCart (ECommerceAPI) in 46.4819ms
2025-02-13 23:22:03.455 +05:00 [INF] Executed endpoint 'CartController.GetCart (ECommerceAPI)'
2025-02-13 23:22:03.457 +05:00 [ERR] So‘rovni qayta ishlashda xatolik yuz berdi.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.CartItems.Cart.CartItems.Cart.CartItems.Cart.CartItems.Cart.CartItems.Cart.CartItems.Cart.CartItems.Cart.CartItems.Cart.CartItems.Cart.CartItems.Cart.CartItems.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Middlewares.ErrorHandlerMiddleware.Invoke(HttpContext context) in D:\E-commerse\ECommerceAPI\Middlewares\ErrorHandlerMiddleware.cs:line 21
2025-02-13 23:22:03.513 +05:00 [ERR] HTTP GET /api/Cart/2 responded 500 in 109.7113 ms
2025-02-13 23:22:03.515 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Cart/2 - 500 null application/json 113.9553ms
2025-02-13 23:24:52.492 +05:00 [INF] Application is shutting down...
2025-02-13 23:24:59.360 +05:00 [INF] User profile is available. Using 'C:\Users\asilb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 23:25:00.131 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:25:00.135 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:25:00.138 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:25:00.141 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:25:00.693 +05:00 [INF] Now listening on: http://localhost:5004
2025-02-13 23:25:00.697 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 23:25:00.698 +05:00 [INF] Hosting environment: Development
2025-02-13 23:25:00.700 +05:00 [INF] Content root path: D:\E-commerse\ECommerceAPI
2025-02-13 23:25:00.755 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-02-13 23:25:00.840 +05:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[OrderDate], [o].[PaymentStatus], [o].[TotalAmount], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[OrderDate] < DATEADD(day, CAST(-2.0E0 AS int), GETUTCDATE()) AND [o].[PaymentStatus] <> N'Paid'
2025-02-13 23:25:00.884 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 131.0286ms
2025-02-13 23:25:00.924 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.js - null null
2025-02-13 23:25:00.944 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.js - 200 null application/javascript;charset=utf-8 20.9265ms
2025-02-13 23:25:03.391 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-02-13 23:25:03.637 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 245.8874ms
2025-02-13 23:25:14.056 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-02-13 23:25:14.065 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 8.8572ms
2025-02-13 23:25:14.102 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.js - null null
2025-02-13 23:25:14.106 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.js - 200 null application/javascript;charset=utf-8 4.0842ms
2025-02-13 23:25:14.748 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-02-13 23:25:14.777 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 29.0242ms
2025-02-13 23:25:21.734 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Cart/2 - null null
2025-02-13 23:25:21.779 +05:00 [WRN] Failed to determine the https port for redirect.
2025-02-13 23:25:21.848 +05:00 [INF] Executing endpoint 'CartController.GetCart (ECommerceAPI)'
2025-02-13 23:25:21.872 +05:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart(Int32) on controller CartController (ECommerceAPI).
2025-02-13 23:25:22.174 +05:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[UserId], [s].[Id], [s].[CartId], [s].[Price], [s].[ProductId], [s].[Quantity], [s].[Id0], [s].[CategoryId], [s].[Description], [s].[ImageUrl], [s].[Name], [s].[Price0], [s].[Stock]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[UserId] = @__userId_0
) AS [c1]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[CartId], [c0].[Price], [c0].[ProductId], [c0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [CartItems] AS [c0]
    INNER JOIN [Products] AS [p] ON [c0].[ProductId] = [p].[Id]
) AS [s] ON [c1].[Id] = [s].[CartId]
ORDER BY [c1].[Id], [s].[Id]
2025-02-13 23:25:22.341 +05:00 [INF] Executing OkObjectResult, writing value of type 'Cart'.
2025-02-13 23:25:22.375 +05:00 [INF] Executed action CartController.GetCart (ECommerceAPI) in 494.0709ms
2025-02-13 23:25:22.380 +05:00 [INF] Executed endpoint 'CartController.GetCart (ECommerceAPI)'
2025-02-13 23:25:22.385 +05:00 [INF] HTTP GET /api/Cart/2 responded 200 in 617.9644 ms
2025-02-13 23:25:22.392 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Cart/2 - 200 null application/json; charset=utf-8 658.6732ms
2025-02-13 23:32:39.859 +05:00 [INF] Application is shutting down...
2025-02-13 23:32:46.277 +05:00 [INF] User profile is available. Using 'C:\Users\asilb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 23:32:46.799 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:32:46.802 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:32:46.803 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:32:46.805 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:32:47.291 +05:00 [INF] Now listening on: http://localhost:5004
2025-02-13 23:32:47.294 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 23:32:47.296 +05:00 [INF] Hosting environment: Development
2025-02-13 23:32:47.298 +05:00 [INF] Content root path: D:\E-commerse\ECommerceAPI
2025-02-13 23:32:47.384 +05:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[OrderDate], [o].[PaymentStatus], [o].[TotalAmount], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[OrderDate] < DATEADD(day, CAST(-2.0E0 AS int), GETUTCDATE()) AND [o].[PaymentStatus] <> N'Paid'
2025-02-13 23:33:06.127 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-02-13 23:33:06.255 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 129.5095ms
2025-02-13 23:33:06.316 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.js - null null
2025-02-13 23:33:06.323 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.js - 200 null application/javascript;charset=utf-8 6.6347ms
2025-02-13 23:33:07.636 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-02-13 23:33:07.842 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 205.5334ms
2025-02-13 23:33:14.000 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Cart/2 - null null
2025-02-13 23:33:14.052 +05:00 [WRN] Failed to determine the https port for redirect.
2025-02-13 23:33:14.110 +05:00 [INF] Executing endpoint 'CartController.GetCartById (ECommerceAPI)'
2025-02-13 23:33:14.144 +05:00 [INF] Route matched with {action = "GetCartById", controller = "Cart"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCartById(Int32) on controller CartController (ECommerceAPI).
2025-02-13 23:33:14.864 +05:00 [INF] Executed DbCommand (55ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[UserId], [s].[Id], [s].[CartId], [s].[Price], [s].[ProductId], [s].[Quantity], [s].[Id0], [s].[CategoryId], [s].[Description], [s].[ImageUrl], [s].[Name], [s].[Price0], [s].[Stock]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [c1]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[CartId], [c0].[Price], [c0].[ProductId], [c0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [CartItems] AS [c0]
    INNER JOIN [Products] AS [p] ON [c0].[ProductId] = [p].[Id]
) AS [s] ON [c1].[Id] = [s].[CartId]
ORDER BY [c1].[Id], [s].[Id]
2025-02-13 23:33:14.884 +05:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-13 23:33:14.907 +05:00 [INF] Executed action CartController.GetCartById (ECommerceAPI) in 745.4799ms
2025-02-13 23:33:14.909 +05:00 [INF] Executed endpoint 'CartController.GetCartById (ECommerceAPI)'
2025-02-13 23:33:14.916 +05:00 [INF] HTTP GET /api/Cart/2 responded 404 in 866.9847 ms
2025-02-13 23:33:14.941 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Cart/2 - 404 null text/plain; charset=utf-8 940.2009ms
2025-02-13 23:33:22.348 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Cart/1 - null null
2025-02-13 23:33:22.356 +05:00 [INF] Executing endpoint 'CartController.GetCartById (ECommerceAPI)'
2025-02-13 23:33:22.358 +05:00 [INF] Route matched with {action = "GetCartById", controller = "Cart"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCartById(Int32) on controller CartController (ECommerceAPI).
2025-02-13 23:33:22.439 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[UserId], [s].[Id], [s].[CartId], [s].[Price], [s].[ProductId], [s].[Quantity], [s].[Id0], [s].[CategoryId], [s].[Description], [s].[ImageUrl], [s].[Name], [s].[Price0], [s].[Stock]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [c1]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[CartId], [c0].[Price], [c0].[ProductId], [c0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [CartItems] AS [c0]
    INNER JOIN [Products] AS [p] ON [c0].[ProductId] = [p].[Id]
) AS [s] ON [c1].[Id] = [s].[CartId]
ORDER BY [c1].[Id], [s].[Id]
2025-02-13 23:33:22.613 +05:00 [INF] Executing OkObjectResult, writing value of type 'CartDto'.
2025-02-13 23:33:22.633 +05:00 [INF] Executed action CartController.GetCartById (ECommerceAPI) in 272.5033ms
2025-02-13 23:33:22.636 +05:00 [INF] Executed endpoint 'CartController.GetCartById (ECommerceAPI)'
2025-02-13 23:33:22.638 +05:00 [INF] HTTP GET /api/Cart/1 responded 200 in 283.2847 ms
2025-02-13 23:33:22.643 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Cart/1 - 200 null application/json; charset=utf-8 295.7303ms
2025-02-13 23:33:56.399 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Cart/2 - null null
2025-02-13 23:33:56.408 +05:00 [INF] Executing endpoint 'CartController.GetCartById (ECommerceAPI)'
2025-02-13 23:33:56.410 +05:00 [INF] Route matched with {action = "GetCartById", controller = "Cart"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCartById(Int32) on controller CartController (ECommerceAPI).
2025-02-13 23:33:56.422 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[UserId], [s].[Id], [s].[CartId], [s].[Price], [s].[ProductId], [s].[Quantity], [s].[Id0], [s].[CategoryId], [s].[Description], [s].[ImageUrl], [s].[Name], [s].[Price0], [s].[Stock]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [c1]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[CartId], [c0].[Price], [c0].[ProductId], [c0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [CartItems] AS [c0]
    INNER JOIN [Products] AS [p] ON [c0].[ProductId] = [p].[Id]
) AS [s] ON [c1].[Id] = [s].[CartId]
ORDER BY [c1].[Id], [s].[Id]
2025-02-13 23:33:56.425 +05:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-13 23:33:56.427 +05:00 [INF] Executed action CartController.GetCartById (ECommerceAPI) in 14.4308ms
2025-02-13 23:33:56.429 +05:00 [INF] Executed endpoint 'CartController.GetCartById (ECommerceAPI)'
2025-02-13 23:33:56.431 +05:00 [INF] HTTP GET /api/Cart/2 responded 404 in 27.1676 ms
2025-02-13 23:33:56.435 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Cart/2 - 404 null text/plain; charset=utf-8 35.4595ms
2025-02-13 23:34:02.219 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Cart/3 - null null
2025-02-13 23:34:02.221 +05:00 [INF] Executing endpoint 'CartController.GetCartById (ECommerceAPI)'
2025-02-13 23:34:02.222 +05:00 [INF] Route matched with {action = "GetCartById", controller = "Cart"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCartById(Int32) on controller CartController (ECommerceAPI).
2025-02-13 23:34:02.227 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[UserId], [s].[Id], [s].[CartId], [s].[Price], [s].[ProductId], [s].[Quantity], [s].[Id0], [s].[CategoryId], [s].[Description], [s].[ImageUrl], [s].[Name], [s].[Price0], [s].[Stock]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [c1]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[CartId], [c0].[Price], [c0].[ProductId], [c0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [CartItems] AS [c0]
    INNER JOIN [Products] AS [p] ON [c0].[ProductId] = [p].[Id]
) AS [s] ON [c1].[Id] = [s].[CartId]
ORDER BY [c1].[Id], [s].[Id]
2025-02-13 23:34:02.230 +05:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-13 23:34:02.234 +05:00 [INF] Executed action CartController.GetCartById (ECommerceAPI) in 10.7793ms
2025-02-13 23:34:02.240 +05:00 [INF] Executed endpoint 'CartController.GetCartById (ECommerceAPI)'
2025-02-13 23:34:02.245 +05:00 [INF] HTTP GET /api/Cart/3 responded 404 in 23.4371 ms
2025-02-13 23:34:02.248 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Cart/3 - 404 null text/plain; charset=utf-8 29.2986ms
2025-02-13 23:34:25.159 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Cart/1 - null null
2025-02-13 23:34:25.162 +05:00 [INF] Executing endpoint 'CartController.GetCartById (ECommerceAPI)'
2025-02-13 23:34:25.165 +05:00 [INF] Route matched with {action = "GetCartById", controller = "Cart"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCartById(Int32) on controller CartController (ECommerceAPI).
2025-02-13 23:34:25.181 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[UserId], [s].[Id], [s].[CartId], [s].[Price], [s].[ProductId], [s].[Quantity], [s].[Id0], [s].[CategoryId], [s].[Description], [s].[ImageUrl], [s].[Name], [s].[Price0], [s].[Stock]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [c1]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[CartId], [c0].[Price], [c0].[ProductId], [c0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [CartItems] AS [c0]
    INNER JOIN [Products] AS [p] ON [c0].[ProductId] = [p].[Id]
) AS [s] ON [c1].[Id] = [s].[CartId]
ORDER BY [c1].[Id], [s].[Id]
2025-02-13 23:34:25.185 +05:00 [INF] Executing OkObjectResult, writing value of type 'CartDto'.
2025-02-13 23:34:25.188 +05:00 [INF] Executed action CartController.GetCartById (ECommerceAPI) in 20.6675ms
2025-02-13 23:34:25.190 +05:00 [INF] Executed endpoint 'CartController.GetCartById (ECommerceAPI)'
2025-02-13 23:34:25.192 +05:00 [INF] HTTP GET /api/Cart/1 responded 200 in 29.3332 ms
2025-02-13 23:34:25.194 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Cart/1 - 200 null application/json; charset=utf-8 35.6758ms
2025-02-13 23:35:08.797 +05:00 [INF] Application is shutting down...
2025-02-13 23:35:16.955 +05:00 [INF] User profile is available. Using 'C:\Users\asilb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 23:35:17.505 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:35:17.509 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:35:17.510 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:35:17.511 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:35:18.045 +05:00 [INF] Now listening on: http://localhost:5004
2025-02-13 23:35:18.049 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 23:35:18.052 +05:00 [INF] Hosting environment: Development
2025-02-13 23:35:18.053 +05:00 [INF] Content root path: D:\E-commerse\ECommerceAPI
2025-02-13 23:35:18.150 +05:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[OrderDate], [o].[PaymentStatus], [o].[TotalAmount], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[OrderDate] < DATEADD(day, CAST(-2.0E0 AS int), GETUTCDATE()) AND [o].[PaymentStatus] <> N'Paid'
2025-02-13 23:35:40.086 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-02-13 23:35:40.153 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 67.7551ms
2025-02-13 23:35:40.229 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.js - null null
2025-02-13 23:35:40.237 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.js - 200 null application/javascript;charset=utf-8 8.7251ms
2025-02-13 23:35:40.871 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-02-13 23:35:41.034 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 162.7821ms
2025-02-13 23:35:48.160 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Cart/2 - null null
2025-02-13 23:35:48.185 +05:00 [WRN] Failed to determine the https port for redirect.
2025-02-13 23:35:48.210 +05:00 [INF] Executing endpoint 'CartController.GetCartById (ECommerceAPI)'
2025-02-13 23:35:48.225 +05:00 [INF] Route matched with {action = "GetCartById", controller = "Cart"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCartById(Int32) on controller CartController (ECommerceAPI).
2025-02-13 23:35:48.684 +05:00 [INF] Executed DbCommand (35ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[UserId], [s].[Id], [s].[CartId], [s].[Price], [s].[ProductId], [s].[Quantity], [s].[Id0], [s].[CategoryId], [s].[Description], [s].[ImageUrl], [s].[Name], [s].[Price0], [s].[Stock]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[UserId] = @__id_0
) AS [c1]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[CartId], [c0].[Price], [c0].[ProductId], [c0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [CartItems] AS [c0]
    INNER JOIN [Products] AS [p] ON [c0].[ProductId] = [p].[Id]
) AS [s] ON [c1].[Id] = [s].[CartId]
ORDER BY [c1].[Id], [s].[Id]
2025-02-13 23:35:48.833 +05:00 [INF] Executing OkObjectResult, writing value of type 'CartDto'.
2025-02-13 23:35:48.853 +05:00 [INF] Executed action CartController.GetCartById (ECommerceAPI) in 622.1149ms
2025-02-13 23:35:48.856 +05:00 [INF] Executed endpoint 'CartController.GetCartById (ECommerceAPI)'
2025-02-13 23:35:48.862 +05:00 [INF] HTTP GET /api/Cart/2 responded 200 in 679.9005 ms
2025-02-13 23:35:48.871 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Cart/2 - 200 null application/json; charset=utf-8 710.7929ms
2025-02-13 23:36:44.256 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/Cart/add - application/json 52
2025-02-13 23:36:44.263 +05:00 [INF] CORS policy execution successful.
2025-02-13 23:36:44.267 +05:00 [INF] Executing endpoint 'CartController.AddToCart (ECommerceAPI)'
2025-02-13 23:36:44.287 +05:00 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(AddToCartDto) on controller CartController (ECommerceAPI).
2025-02-13 23:36:44.430 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock]
FROM [Products] AS [p]
WHERE [p].[Id] = @__p_0
2025-02-13 23:36:44.466 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[UserId], [c0].[Id], [c0].[CartId], [c0].[Price], [c0].[ProductId], [c0].[Quantity]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[UserId] = @__request_UserId_0
) AS [c1]
LEFT JOIN [CartItems] AS [c0] ON [c1].[Id] = [c0].[CartId]
ORDER BY [c1].[Id]
2025-02-13 23:36:44.721 +05:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CartItems] ([CartId], [Price], [ProductId], [Quantity])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-02-13 23:36:44.756 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-13 23:36:44.761 +05:00 [INF] Executed action CartController.AddToCart (ECommerceAPI) in 471.5401ms
2025-02-13 23:36:44.764 +05:00 [INF] Executed endpoint 'CartController.AddToCart (ECommerceAPI)'
2025-02-13 23:36:44.766 +05:00 [INF] HTTP POST /api/Cart/add responded 200 in 500.7358 ms
2025-02-13 23:36:44.769 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/Cart/add - 200 null text/plain; charset=utf-8 513.3993ms
2025-02-13 23:36:48.715 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Cart/2 - null null
2025-02-13 23:36:48.721 +05:00 [INF] Executing endpoint 'CartController.GetCartById (ECommerceAPI)'
2025-02-13 23:36:48.723 +05:00 [INF] Route matched with {action = "GetCartById", controller = "Cart"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCartById(Int32) on controller CartController (ECommerceAPI).
2025-02-13 23:36:48.735 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[UserId], [s].[Id], [s].[CartId], [s].[Price], [s].[ProductId], [s].[Quantity], [s].[Id0], [s].[CategoryId], [s].[Description], [s].[ImageUrl], [s].[Name], [s].[Price0], [s].[Stock]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[UserId] = @__id_0
) AS [c1]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[CartId], [c0].[Price], [c0].[ProductId], [c0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [CartItems] AS [c0]
    INNER JOIN [Products] AS [p] ON [c0].[ProductId] = [p].[Id]
) AS [s] ON [c1].[Id] = [s].[CartId]
ORDER BY [c1].[Id], [s].[Id]
2025-02-13 23:36:48.739 +05:00 [INF] Executing OkObjectResult, writing value of type 'CartDto'.
2025-02-13 23:36:48.742 +05:00 [INF] Executed action CartController.GetCartById (ECommerceAPI) in 15.5509ms
2025-02-13 23:36:48.743 +05:00 [INF] Executed endpoint 'CartController.GetCartById (ECommerceAPI)'
2025-02-13 23:36:48.744 +05:00 [INF] HTTP GET /api/Cart/2 responded 200 in 26.1308 ms
2025-02-13 23:36:48.746 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Cart/2 - 200 null application/json; charset=utf-8 31.3811ms
2025-02-13 23:46:03.348 +05:00 [INF] Application is shutting down...
2025-02-13 23:46:30.887 +05:00 [INF] User profile is available. Using 'C:\Users\asilb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 23:46:31.397 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:46:31.401 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:46:31.405 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:46:31.409 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:46:31.877 +05:00 [INF] Now listening on: http://localhost:5004
2025-02-13 23:46:31.880 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 23:46:31.882 +05:00 [INF] Hosting environment: Development
2025-02-13 23:46:31.883 +05:00 [INF] Content root path: D:\E-commerse\ECommerceAPI
2025-02-13 23:46:31.986 +05:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[OrderDate], [o].[PaymentStatus], [o].[TotalAmount], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[OrderDate] < DATEADD(day, CAST(-2.0E0 AS int), GETUTCDATE()) AND [o].[PaymentStatus] <> N'Paid'
2025-02-13 23:46:32.085 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-02-13 23:46:32.167 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 83.569ms
2025-02-13 23:46:32.210 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.js - null null
2025-02-13 23:46:32.239 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.js - 200 null application/javascript;charset=utf-8 29.3335ms
2025-02-13 23:46:33.873 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-02-13 23:46:34.021 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 147.4802ms
2025-02-13 23:46:51.043 +05:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5004/api/Cart/remove/2/1 - null null
2025-02-13 23:46:51.069 +05:00 [INF] CORS policy execution successful.
2025-02-13 23:46:51.110 +05:00 [WRN] Failed to determine the https port for redirect.
2025-02-13 23:46:51.140 +05:00 [INF] Executing endpoint 'CartController.RemoveFromCart (ECommerceAPI)'
2025-02-13 23:46:51.161 +05:00 [INF] Route matched with {action = "RemoveFromCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveFromCart(Int32, Int32) on controller CartController (ECommerceAPI).
2025-02-13 23:46:51.689 +05:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[UserId], [c0].[Id], [c0].[CartId], [c0].[Price], [c0].[ProductId], [c0].[Quantity]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[UserId] = @__userId_0
) AS [c1]
LEFT JOIN [CartItems] AS [c0] ON [c1].[Id] = [c0].[CartId]
ORDER BY [c1].[Id]
2025-02-13 23:46:51.976 +05:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [CartItems]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 23:46:52.002 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-13 23:46:52.011 +05:00 [INF] Executed action CartController.RemoveFromCart (ECommerceAPI) in 842.9304ms
2025-02-13 23:46:52.013 +05:00 [INF] Executed endpoint 'CartController.RemoveFromCart (ECommerceAPI)'
2025-02-13 23:46:52.021 +05:00 [INF] HTTP DELETE /api/Cart/remove/2/1 responded 200 in 908.3601 ms
2025-02-13 23:46:52.031 +05:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5004/api/Cart/remove/2/1 - 200 null text/plain; charset=utf-8 987.099ms
2025-02-13 23:47:14.407 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/Cart/add - application/json 52
2025-02-13 23:47:14.414 +05:00 [INF] CORS policy execution successful.
2025-02-13 23:47:14.420 +05:00 [INF] Executing endpoint 'CartController.AddToCart (ECommerceAPI)'
2025-02-13 23:47:14.437 +05:00 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(AddToCartDto) on controller CartController (ECommerceAPI).
2025-02-13 23:47:14.541 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock]
FROM [Products] AS [p]
WHERE [p].[Id] = @__p_0
2025-02-13 23:47:14.599 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[UserId], [c0].[Id], [c0].[CartId], [c0].[Price], [c0].[ProductId], [c0].[Quantity]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[UserId] = @__request_UserId_0
) AS [c1]
LEFT JOIN [CartItems] AS [c0] ON [c1].[Id] = [c0].[CartId]
ORDER BY [c1].[Id]
2025-02-13 23:47:14.610 +05:00 [INF] Executed action CartController.AddToCart (ECommerceAPI) in 170.8108ms
2025-02-13 23:47:14.613 +05:00 [INF] Executed endpoint 'CartController.AddToCart (ECommerceAPI)'
2025-02-13 23:47:14.616 +05:00 [ERR] So‘rovni qayta ishlashda xatolik yuz berdi.
System.NullReferenceException: Object reference not set to an instance of an object.
   at CartController.AddToCart(AddToCartDto request) in D:\E-commerse\ECommerceAPI\Controller\CartController.cs:line 60
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Middlewares.ErrorHandlerMiddleware.Invoke(HttpContext context) in D:\E-commerse\ECommerceAPI\Middlewares\ErrorHandlerMiddleware.cs:line 21
2025-02-13 23:47:14.673 +05:00 [ERR] HTTP POST /api/Cart/add responded 500 in 256.9156 ms
2025-02-13 23:47:14.677 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/Cart/add - 500 null application/json 270.0886ms
2025-02-13 23:47:27.206 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/Cart/add - application/json 52
2025-02-13 23:47:27.209 +05:00 [INF] CORS policy execution successful.
2025-02-13 23:47:27.214 +05:00 [INF] Executing endpoint 'CartController.AddToCart (ECommerceAPI)'
2025-02-13 23:47:27.216 +05:00 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(AddToCartDto) on controller CartController (ECommerceAPI).
2025-02-13 23:47:27.273 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock]
FROM [Products] AS [p]
WHERE [p].[Id] = @__p_0
2025-02-13 23:47:27.287 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[UserId], [c0].[Id], [c0].[CartId], [c0].[Price], [c0].[ProductId], [c0].[Quantity]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[UserId] = @__request_UserId_0
) AS [c1]
LEFT JOIN [CartItems] AS [c0] ON [c1].[Id] = [c0].[CartId]
ORDER BY [c1].[Id]
2025-02-13 23:47:27.291 +05:00 [INF] Executed action CartController.AddToCart (ECommerceAPI) in 29.061ms
2025-02-13 23:47:27.293 +05:00 [INF] Executed endpoint 'CartController.AddToCart (ECommerceAPI)'
2025-02-13 23:47:27.294 +05:00 [ERR] So‘rovni qayta ishlashda xatolik yuz berdi.
System.NullReferenceException: Object reference not set to an instance of an object.
   at CartController.AddToCart(AddToCartDto request) in D:\E-commerse\ECommerceAPI\Controller\CartController.cs:line 60
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Middlewares.ErrorHandlerMiddleware.Invoke(HttpContext context) in D:\E-commerse\ECommerceAPI\Middlewares\ErrorHandlerMiddleware.cs:line 21
2025-02-13 23:47:27.302 +05:00 [ERR] HTTP POST /api/Cart/add responded 500 in 91.5963 ms
2025-02-13 23:47:27.304 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/Cart/add - 500 null application/json 98.774ms
2025-02-13 23:47:39.775 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/Cart/add - application/json 52
2025-02-13 23:47:39.779 +05:00 [INF] CORS policy execution successful.
2025-02-13 23:47:39.780 +05:00 [INF] Executing endpoint 'CartController.AddToCart (ECommerceAPI)'
2025-02-13 23:47:39.781 +05:00 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(AddToCartDto) on controller CartController (ECommerceAPI).
2025-02-13 23:47:39.790 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock]
FROM [Products] AS [p]
WHERE [p].[Id] = @__p_0
2025-02-13 23:47:39.797 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[UserId], [c0].[Id], [c0].[CartId], [c0].[Price], [c0].[ProductId], [c0].[Quantity]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[UserId] = @__request_UserId_0
) AS [c1]
LEFT JOIN [CartItems] AS [c0] ON [c1].[Id] = [c0].[CartId]
ORDER BY [c1].[Id]
2025-02-13 23:47:39.803 +05:00 [INF] Executed action CartController.AddToCart (ECommerceAPI) in 19.0368ms
2025-02-13 23:47:39.805 +05:00 [INF] Executed endpoint 'CartController.AddToCart (ECommerceAPI)'
2025-02-13 23:47:39.806 +05:00 [ERR] So‘rovni qayta ishlashda xatolik yuz berdi.
System.NullReferenceException: Object reference not set to an instance of an object.
   at CartController.AddToCart(AddToCartDto request) in D:\E-commerse\ECommerceAPI\Controller\CartController.cs:line 60
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Middlewares.ErrorHandlerMiddleware.Invoke(HttpContext context) in D:\E-commerse\ECommerceAPI\Middlewares\ErrorHandlerMiddleware.cs:line 21
2025-02-13 23:47:39.812 +05:00 [ERR] HTTP POST /api/Cart/add responded 500 in 32.4857 ms
2025-02-13 23:47:39.814 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/Cart/add - 500 null application/json 38.8398ms
2025-02-13 23:49:20.610 +05:00 [INF] Application is shutting down...
2025-02-13 23:49:26.669 +05:00 [INF] User profile is available. Using 'C:\Users\asilb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 23:49:27.362 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:49:27.365 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:49:27.367 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:49:27.369 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:49:27.975 +05:00 [INF] Now listening on: http://localhost:5004
2025-02-13 23:49:27.979 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 23:49:27.981 +05:00 [INF] Hosting environment: Development
2025-02-13 23:49:27.982 +05:00 [INF] Content root path: D:\E-commerse\ECommerceAPI
2025-02-13 23:49:28.092 +05:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[OrderDate], [o].[PaymentStatus], [o].[TotalAmount], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[OrderDate] < DATEADD(day, CAST(-2.0E0 AS int), GETUTCDATE()) AND [o].[PaymentStatus] <> N'Paid'
2025-02-13 23:50:02.482 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-02-13 23:50:02.575 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 94.4091ms
2025-02-13 23:50:02.619 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.js - null null
2025-02-13 23:50:02.630 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.js - 200 null application/javascript;charset=utf-8 11.7075ms
2025-02-13 23:50:03.506 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-02-13 23:50:03.638 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 132.3112ms
2025-02-13 23:50:23.143 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/Cart/add - application/json 52
2025-02-13 23:50:23.166 +05:00 [INF] CORS policy execution successful.
2025-02-13 23:50:23.173 +05:00 [WRN] Failed to determine the https port for redirect.
2025-02-13 23:50:23.196 +05:00 [INF] Executing endpoint 'CartController.AddToCart (ECommerceAPI)'
2025-02-13 23:50:23.212 +05:00 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(AddToCartDto) on controller CartController (ECommerceAPI).
2025-02-13 23:50:23.626 +05:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[Stock]
FROM [Products] AS [p]
WHERE [p].[Id] = @__p_0
2025-02-13 23:50:23.793 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[UserId], [c0].[Id], [c0].[CartId], [c0].[Price], [c0].[ProductId], [c0].[Quantity]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[UserId] = @__request_UserId_0
) AS [c1]
LEFT JOIN [CartItems] AS [c0] ON [c1].[Id] = [c0].[CartId]
ORDER BY [c1].[Id]
2025-02-13 23:50:23.960 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [Price] = @p0, [Quantity] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-02-13 23:50:23.979 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-13 23:50:23.991 +05:00 [INF] Executed action CartController.AddToCart (ECommerceAPI) in 773.7809ms
2025-02-13 23:50:23.993 +05:00 [INF] Executed endpoint 'CartController.AddToCart (ECommerceAPI)'
2025-02-13 23:50:24.000 +05:00 [INF] HTTP POST /api/Cart/add responded 200 in 826.9123 ms
2025-02-13 23:50:24.010 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/Cart/add - 200 null text/plain; charset=utf-8 867.0293ms
2025-02-13 23:50:33.156 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Cart/2 - null null
2025-02-13 23:50:33.163 +05:00 [INF] Executing endpoint 'CartController.GetCartById (ECommerceAPI)'
2025-02-13 23:50:33.180 +05:00 [INF] Route matched with {action = "GetCartById", controller = "Cart"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCartById(Int32) on controller CartController (ECommerceAPI).
2025-02-13 23:50:33.298 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[UserId], [s].[Id], [s].[CartId], [s].[Price], [s].[ProductId], [s].[Quantity], [s].[Id0], [s].[CategoryId], [s].[Description], [s].[ImageUrl], [s].[Name], [s].[Price0], [s].[Stock]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[UserId] = @__id_0
) AS [c1]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[CartId], [c0].[Price], [c0].[ProductId], [c0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [CartItems] AS [c0]
    INNER JOIN [Products] AS [p] ON [c0].[ProductId] = [p].[Id]
) AS [s] ON [c1].[Id] = [s].[CartId]
ORDER BY [c1].[Id], [s].[Id]
2025-02-13 23:50:33.328 +05:00 [INF] Executing OkObjectResult, writing value of type 'CartDto'.
2025-02-13 23:50:33.338 +05:00 [INF] Executed action CartController.GetCartById (ECommerceAPI) in 154.9587ms
2025-02-13 23:50:33.339 +05:00 [INF] Executed endpoint 'CartController.GetCartById (ECommerceAPI)'
2025-02-13 23:50:33.341 +05:00 [INF] HTTP GET /api/Cart/2 responded 200 in 179.2418 ms
2025-02-13 23:50:33.345 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Cart/2 - 200 null application/json; charset=utf-8 188.7956ms
2025-02-13 23:50:46.561 +05:00 [INF] Application is shutting down...
2025-02-13 23:50:52.231 +05:00 [INF] User profile is available. Using 'C:\Users\asilb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 23:50:52.752 +05:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:50:52.756 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:50:52.757 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:50:52.758 +05:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-13 23:50:53.282 +05:00 [INF] Now listening on: http://localhost:5004
2025-02-13 23:50:53.286 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 23:50:53.287 +05:00 [INF] Hosting environment: Development
2025-02-13 23:50:53.288 +05:00 [INF] Content root path: D:\E-commerse\ECommerceAPI
2025-02-13 23:50:53.372 +05:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[OrderDate], [o].[PaymentStatus], [o].[TotalAmount], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[OrderDate] < DATEADD(day, CAST(-2.0E0 AS int), GETUTCDATE()) AND [o].[PaymentStatus] <> N'Paid'
2025-02-13 23:50:55.057 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-02-13 23:50:55.140 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 84.6668ms
2025-02-13 23:50:55.207 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.js - null null
2025-02-13 23:50:55.214 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.js - 200 null application/javascript;charset=utf-8 6.1801ms
2025-02-13 23:50:55.669 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-02-13 23:50:55.927 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 258.3919ms
2025-02-13 23:51:13.646 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Orders - null null
2025-02-13 23:51:13.687 +05:00 [WRN] Failed to determine the https port for redirect.
2025-02-13 23:51:13.735 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.OrdersController.GetAllOrders (ECommerceAPI)'
2025-02-13 23:51:13.761 +05:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders() on controller AtirAPI.Controllers.OrdersController (ECommerceAPI).
2025-02-13 23:51:14.385 +05:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[OrderDate], [o].[PaymentStatus], [o].[TotalAmount], [o].[UserId], [u].[Id], [u].[Address], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[Role], [s].[Id], [s].[OrderId], [s].[Price], [s].[ProductId], [s].[Quantity], [s].[Id0], [s].[CategoryId], [s].[Description], [s].[ImageUrl], [s].[Name], [s].[Price0], [s].[Stock]
FROM [Orders] AS [o]
INNER JOIN [Users] AS [u] ON [o].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [o0].[Id], [o0].[OrderId], [o0].[Price], [o0].[ProductId], [o0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [OrderItems] AS [o0]
    INNER JOIN [Products] AS [p] ON [o0].[ProductId] = [p].[Id]
) AS [s] ON [o].[Id] = [s].[OrderId]
ORDER BY [o].[Id], [u].[Id], [s].[Id]
2025-02-13 23:51:14.793 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[AtirAPI.Models.Order, ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType2`6[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType4`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 23:51:14.860 +05:00 [INF] Executed action AtirAPI.Controllers.OrdersController.GetAllOrders (ECommerceAPI) in 1082.8709ms
2025-02-13 23:51:14.864 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.OrdersController.GetAllOrders (ECommerceAPI)'
2025-02-13 23:51:14.872 +05:00 [INF] HTTP GET /api/Orders responded 200 in 1184.4806 ms
2025-02-13 23:51:14.888 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Orders - 200 null application/json; charset=utf-8 1241.5849ms
2025-02-13 23:51:39.570 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/Orders/checkout/2 - null 0
2025-02-13 23:51:39.632 +05:00 [INF] CORS policy execution successful.
2025-02-13 23:51:39.637 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.OrdersController.Checkout (ECommerceAPI)'
2025-02-13 23:51:39.656 +05:00 [INF] Route matched with {action = "Checkout", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Checkout(Int32) on controller AtirAPI.Controllers.OrdersController (ECommerceAPI).
2025-02-13 23:51:39.825 +05:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[UserId], [s].[Id], [s].[CartId], [s].[Price], [s].[ProductId], [s].[Quantity], [s].[Id0], [s].[CategoryId], [s].[Description], [s].[ImageUrl], [s].[Name], [s].[Price0], [s].[Stock]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[UserId] = @__userId_0
) AS [c1]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[CartId], [c0].[Price], [c0].[ProductId], [c0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [CartItems] AS [c0]
    INNER JOIN [Products] AS [p] ON [c0].[ProductId] = [p].[Id]
) AS [s] ON [c1].[Id] = [s].[CartId]
ORDER BY [c1].[Id], [s].[Id]
2025-02-13 23:51:40.198 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [CartItems]
OUTPUT 1
WHERE [Id] = @p0;
INSERT INTO [Orders] ([OrderDate], [PaymentStatus], [TotalAmount], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p1, @p2, @p3, @p4);
2025-02-13 23:51:40.247 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Carts]
OUTPUT 1
WHERE [Id] = @p5;
INSERT INTO [OrderItems] ([OrderId], [Price], [ProductId], [Quantity])
OUTPUT INSERTED.[Id]
VALUES (@p6, @p7, @p8, @p9);
2025-02-13 23:51:40.296 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-13 23:51:40.302 +05:00 [INF] Executed action AtirAPI.Controllers.OrdersController.Checkout (ECommerceAPI) in 642.3873ms
2025-02-13 23:51:40.304 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.OrdersController.Checkout (ECommerceAPI)'
2025-02-13 23:51:40.307 +05:00 [INF] HTTP POST /api/Orders/checkout/2 responded 200 in 672.0746 ms
2025-02-13 23:51:40.314 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/Orders/checkout/2 - 200 null text/plain; charset=utf-8 743.7941ms
2025-02-13 23:51:47.375 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Orders - null null
2025-02-13 23:51:47.384 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.OrdersController.GetAllOrders (ECommerceAPI)'
2025-02-13 23:51:47.430 +05:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders() on controller AtirAPI.Controllers.OrdersController (ECommerceAPI).
2025-02-13 23:51:47.441 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[OrderDate], [o].[PaymentStatus], [o].[TotalAmount], [o].[UserId], [u].[Id], [u].[Address], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[Role], [s].[Id], [s].[OrderId], [s].[Price], [s].[ProductId], [s].[Quantity], [s].[Id0], [s].[CategoryId], [s].[Description], [s].[ImageUrl], [s].[Name], [s].[Price0], [s].[Stock]
FROM [Orders] AS [o]
INNER JOIN [Users] AS [u] ON [o].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [o0].[Id], [o0].[OrderId], [o0].[Price], [o0].[ProductId], [o0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [OrderItems] AS [o0]
    INNER JOIN [Products] AS [p] ON [o0].[ProductId] = [p].[Id]
) AS [s] ON [o].[Id] = [s].[OrderId]
ORDER BY [o].[Id], [u].[Id], [s].[Id]
2025-02-13 23:51:47.452 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[AtirAPI.Models.Order, ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType2`6[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType4`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 23:51:47.456 +05:00 [INF] Executed action AtirAPI.Controllers.OrdersController.GetAllOrders (ECommerceAPI) in 23.3204ms
2025-02-13 23:51:47.459 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.OrdersController.GetAllOrders (ECommerceAPI)'
2025-02-13 23:51:47.460 +05:00 [INF] HTTP GET /api/Orders responded 200 in 80.3770 ms
2025-02-13 23:51:47.462 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Orders - 200 null application/json; charset=utf-8 87.4146ms
2025-02-13 23:52:02.101 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Orders/11 - null null
2025-02-13 23:52:02.103 +05:00 [INF] Executing endpoint 'AtirAPI.Controllers.OrdersController.GetOrderById (ECommerceAPI)'
2025-02-13 23:52:02.108 +05:00 [INF] Route matched with {action = "GetOrderById", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrderById(Int32) on controller AtirAPI.Controllers.OrdersController (ECommerceAPI).
2025-02-13 23:52:02.167 +05:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[OrderDate], [s].[PaymentStatus], [s].[TotalAmount], [s].[UserId], [s].[Id0], [s].[Address], [s].[Email], [s].[FirstName], [s].[LastName], [s].[PasswordHash], [s].[PhoneNumber], [s].[Role], [s0].[Id], [s0].[OrderId], [s0].[Price], [s0].[ProductId], [s0].[Quantity], [s0].[Id0], [s0].[CategoryId], [s0].[Description], [s0].[ImageUrl], [s0].[Name], [s0].[Price0], [s0].[Stock]
FROM (
    SELECT TOP(1) [o].[Id], [o].[OrderDate], [o].[PaymentStatus], [o].[TotalAmount], [o].[UserId], [u].[Id] AS [Id0], [u].[Address], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[Role]
    FROM [Orders] AS [o]
    INNER JOIN [Users] AS [u] ON [o].[UserId] = [u].[Id]
    WHERE [o].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [o0].[Id], [o0].[OrderId], [o0].[Price], [o0].[ProductId], [o0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [OrderItems] AS [o0]
    INNER JOIN [Products] AS [p] ON [o0].[ProductId] = [p].[Id]
) AS [s0] ON [s].[Id] = [s0].[OrderId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id]
2025-02-13 23:52:02.176 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`6[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType4`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ECommerceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-13 23:52:02.178 +05:00 [INF] Executed action AtirAPI.Controllers.OrdersController.GetOrderById (ECommerceAPI) in 68.7358ms
2025-02-13 23:52:02.179 +05:00 [INF] Executed endpoint 'AtirAPI.Controllers.OrdersController.GetOrderById (ECommerceAPI)'
2025-02-13 23:52:02.180 +05:00 [INF] HTTP GET /api/Orders/11 responded 200 in 77.4106 ms
2025-02-13 23:52:02.182 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Orders/11 - 200 null application/json; charset=utf-8 81.2459ms
2025-02-13 23:52:29.450 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Cart/2 - null null
2025-02-13 23:52:29.454 +05:00 [INF] Executing endpoint 'CartController.GetCartById (ECommerceAPI)'
2025-02-13 23:52:29.457 +05:00 [INF] Route matched with {action = "GetCartById", controller = "Cart"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCartById(Int32) on controller CartController (ECommerceAPI).
2025-02-13 23:52:29.483 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[Id], [c1].[UserId], [s].[Id], [s].[CartId], [s].[Price], [s].[ProductId], [s].[Quantity], [s].[Id0], [s].[CategoryId], [s].[Description], [s].[ImageUrl], [s].[Name], [s].[Price0], [s].[Stock]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[UserId] = @__id_0
) AS [c1]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[CartId], [c0].[Price], [c0].[ProductId], [c0].[Quantity], [p].[Id] AS [Id0], [p].[CategoryId], [p].[Description], [p].[ImageUrl], [p].[Name], [p].[Price] AS [Price0], [p].[Stock]
    FROM [CartItems] AS [c0]
    INNER JOIN [Products] AS [p] ON [c0].[ProductId] = [p].[Id]
) AS [s] ON [c1].[Id] = [s].[CartId]
ORDER BY [c1].[Id], [s].[Id]
2025-02-13 23:52:29.488 +05:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-13 23:52:29.490 +05:00 [INF] Executed action CartController.GetCartById (ECommerceAPI) in 31.1167ms
2025-02-13 23:52:29.491 +05:00 [INF] Executed endpoint 'CartController.GetCartById (ECommerceAPI)'
2025-02-13 23:52:29.492 +05:00 [INF] HTTP GET /api/Cart/2 responded 404 in 38.6971 ms
2025-02-13 23:52:29.494 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Cart/2 - 404 null text/plain; charset=utf-8 43.7966ms
